<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>pbrt: ply.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>ply.h</h1><a href="ply_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"></span>
<a name="l00003"></a>00003 <span class="comment">Header for PLY polygon files.</span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="comment">- Greg Turk</span>
<a name="l00006"></a>00006 <span class="comment"></span>
<a name="l00007"></a>00007 <span class="comment">A PLY file contains a single polygonal _object_.</span>
<a name="l00008"></a>00008 <span class="comment"></span>
<a name="l00009"></a>00009 <span class="comment">An object is composed of lists of _elements_.  Typical elements are</span>
<a name="l00010"></a>00010 <span class="comment">vertices, faces, edges and materials.</span>
<a name="l00011"></a>00011 <span class="comment"></span>
<a name="l00012"></a>00012 <span class="comment">Each type of element for a given object has one or more _properties_</span>
<a name="l00013"></a>00013 <span class="comment">associated with the element type.  For instance, a vertex element may</span>
<a name="l00014"></a>00014 <span class="comment">have as properties three floating-point values x,y,z and three unsigned</span>
<a name="l00015"></a>00015 <span class="comment">chars for red, green and blue.</span>
<a name="l00016"></a>00016 <span class="comment"></span>
<a name="l00017"></a>00017 <span class="comment">-----------------------------------------------------------------------</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">Copyright (c) 1998 Georgia Institute of Technology.  All rights reserved.   </span>
<a name="l00020"></a>00020 <span class="comment">  </span>
<a name="l00021"></a>00021 <span class="comment">Permission to use, copy, modify and distribute this software and its   </span>
<a name="l00022"></a>00022 <span class="comment">documentation for any purpose is hereby granted without fee, provided   </span>
<a name="l00023"></a>00023 <span class="comment">that the above copyright notice and this permission notice appear in   </span>
<a name="l00024"></a>00024 <span class="comment">all copies of this software and that you do not sell the software.   </span>
<a name="l00025"></a>00025 <span class="comment">  </span>
<a name="l00026"></a>00026 <span class="comment">THE SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTY OF ANY KIND,   </span>
<a name="l00027"></a>00027 <span class="comment">EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY   </span>
<a name="l00028"></a>00028 <span class="comment">WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.   </span>
<a name="l00029"></a>00029 <span class="comment"></span>
<a name="l00030"></a>00030 <span class="comment">*/</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#ifndef __PLY_H__</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span><span class="preprocessor">#define __PLY_H__</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span>
<a name="l00035"></a>00035 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00037"></a>00037 <span class="preprocessor">#endif</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;stddef.h&gt;</span>
<a name="l00041"></a>00041 
<a name="l00042"></a><a class="code" href="ply_8h.html#52e6dde3ac4a3d076af046ed610ed3da">00042</a> <span class="preprocessor">#define PLY_ASCII      1        </span><span class="comment">/* ascii PLY file */</span>
<a name="l00043"></a><a class="code" href="ply_8h.html#c21ee30aee359d6b7c65c99ce55c58d5">00043</a> <span class="preprocessor">#define PLY_BINARY_BE  2        </span><span class="comment">/* binary PLY file, big endian */</span>
<a name="l00044"></a><a class="code" href="ply_8h.html#8314c8f69b28c54c87428e7defbd24e1">00044</a> <span class="preprocessor">#define PLY_BINARY_LE  3        </span><span class="comment">/* binary PLY file, little endian */</span>
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="ply_8h.html#500f6ccac1d2cbb0b52886bf60b30b71">00046</a> <span class="preprocessor">#define PLY_OKAY    0           </span><span class="comment">/* ply routine worked okay */</span>
<a name="l00047"></a><a class="code" href="ply_8h.html#a3508c3d9ff421c9b9772a6776916c27">00047</a> <span class="preprocessor">#define PLY_ERROR  -1           </span><span class="comment">/* error in ply routine */</span>
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="comment">/* scalar data types supported by PLY format */</span>
<a name="l00050"></a>00050 
<a name="l00051"></a><a class="code" href="ply_8h.html#94fb140b12c8d938d896ca3ab6971dda">00051</a> <span class="preprocessor">#define StartType  0</span>
<a name="l00052"></a><a class="code" href="ply_8h.html#8f7c73011aaacd338c5a2af707a2a57f">00052</a> <span class="preprocessor"></span><span class="preprocessor">#define Int8       1</span>
<a name="l00053"></a><a class="code" href="ply_8h.html#9c8fb24ed11abb940eda20e773aefd6d">00053</a> <span class="preprocessor"></span><span class="preprocessor">#define Int16      2</span>
<a name="l00054"></a><a class="code" href="ply_8h.html#d5f21f1f9531f246cfd36212b5b8c4ca">00054</a> <span class="preprocessor"></span><span class="preprocessor">#define Int32      3</span>
<a name="l00055"></a><a class="code" href="ply_8h.html#57d127553ce5a94c80965a209900ad91">00055</a> <span class="preprocessor"></span><span class="preprocessor">#define Uint8      4</span>
<a name="l00056"></a><a class="code" href="ply_8h.html#749163d49d607ff6ede6c10b0f3e7469">00056</a> <span class="preprocessor"></span><span class="preprocessor">#define Uint16     5</span>
<a name="l00057"></a><a class="code" href="ply_8h.html#a0de2dc666494eb49a2a2e72911e43c3">00057</a> <span class="preprocessor"></span><span class="preprocessor">#define Uint32     6</span>
<a name="l00058"></a><a class="code" href="ply_8h.html#5f07cf1930b2420ba229ae15987843d7">00058</a> <span class="preprocessor"></span><span class="preprocessor">#define Float32    7</span>
<a name="l00059"></a><a class="code" href="ply_8h.html#24bc250f47ea3d6f84d9f4681a7dea6a">00059</a> <span class="preprocessor"></span><span class="preprocessor">#define Float64    8</span>
<a name="l00060"></a><a class="code" href="ply_8h.html#c32d0270ab7df92da207367f4a883286">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define EndType    9</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span>
<a name="l00062"></a><a class="code" href="ply_8h.html#457492e38597e91dc051d1eec93022ab">00062</a> <span class="preprocessor">#define  PLY_SCALAR  0</span>
<a name="l00063"></a><a class="code" href="ply_8h.html#1a55523e2e3b45ad1cf58f2512945e85">00063</a> <span class="preprocessor"></span><span class="preprocessor">#define  PLY_LIST    1</span>
<a name="l00064"></a><a class="code" href="ply_8h.html#fe3971acff0034d2d00abae1ba1c3b63">00064</a> <span class="preprocessor"></span><span class="preprocessor">#define  PLY_STRING  2</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span>
<a name="l00066"></a>00066 
<a name="l00067"></a><a class="code" href="structPlyProperty.html">00067</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structPlyProperty.html">PlyProperty</a> {    <span class="comment">/* description of a property */</span>
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="structPlyProperty.html#286f11ca61eb9eaa3c52a44bbaeadfc9">00069</a>   <span class="keywordtype">char</span> *<a class="code" href="structPlyProperty.html#286f11ca61eb9eaa3c52a44bbaeadfc9">name</a>;                   <span class="comment">/* property name */</span>
<a name="l00070"></a><a class="code" href="structPlyProperty.html#0ddc732a043a2dceef8cd0849f8fe61e">00070</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyProperty.html#0ddc732a043a2dceef8cd0849f8fe61e">external_type</a>;            <span class="comment">/* file's data type */</span>
<a name="l00071"></a><a class="code" href="structPlyProperty.html#52decfabbe6c612b2c10213207b0a2d6">00071</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyProperty.html#52decfabbe6c612b2c10213207b0a2d6">internal_type</a>;            <span class="comment">/* program's data type */</span>
<a name="l00072"></a><a class="code" href="structPlyProperty.html#eedc40380a29a69699ce401f4cb7aa3f">00072</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyProperty.html#eedc40380a29a69699ce401f4cb7aa3f">offset</a>;                   <span class="comment">/* offset bytes of prop in a struct */</span>
<a name="l00073"></a>00073 
<a name="l00074"></a><a class="code" href="structPlyProperty.html#be1deb9f2985fc45921c51b9b762a9c9">00074</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyProperty.html#be1deb9f2985fc45921c51b9b762a9c9">is_list</a>;                  <span class="comment">/* 0 = scalar, 1 = list, 2 = char string */</span>
<a name="l00075"></a><a class="code" href="structPlyProperty.html#237469e443b4a87444ce5e21512b2649">00075</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyProperty.html#237469e443b4a87444ce5e21512b2649">count_external</a>;           <span class="comment">/* file's count type */</span>
<a name="l00076"></a><a class="code" href="structPlyProperty.html#3d8a82157e2863a19b63886a3488cc64">00076</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyProperty.html#3d8a82157e2863a19b63886a3488cc64">count_internal</a>;           <span class="comment">/* program's count type */</span>
<a name="l00077"></a><a class="code" href="structPlyProperty.html#1f788f0c065d945e271e8c4d985d2bf2">00077</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyProperty.html#1f788f0c065d945e271e8c4d985d2bf2">count_offset</a>;             <span class="comment">/* offset byte for list count */</span>
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 } <a class="code" href="structPlyProperty.html">PlyProperty</a>;
<a name="l00080"></a>00080 
<a name="l00081"></a><a class="code" href="structPlyElement.html">00081</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structPlyElement.html">PlyElement</a> {     <span class="comment">/* description of an element */</span>
<a name="l00082"></a><a class="code" href="structPlyElement.html#851bfdee0489e67d5105d7f947dc7e35">00082</a>   <span class="keywordtype">char</span> *<a class="code" href="structPlyElement.html#851bfdee0489e67d5105d7f947dc7e35">name</a>;                   <span class="comment">/* element name */</span>
<a name="l00083"></a><a class="code" href="structPlyElement.html#3975c8d9bdd3b4435bca2cb6f7e99733">00083</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyElement.html#3975c8d9bdd3b4435bca2cb6f7e99733">num</a>;                      <span class="comment">/* number of elements in this object */</span>
<a name="l00084"></a><a class="code" href="structPlyElement.html#b4a94646827e6b91a9778a4fea45a051">00084</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyElement.html#b4a94646827e6b91a9778a4fea45a051">size</a>;                     <span class="comment">/* size of element (bytes) or -1 if variable */</span>
<a name="l00085"></a><a class="code" href="structPlyElement.html#f8251c4b09b4292a0529a7c7acfe7771">00085</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyElement.html#f8251c4b09b4292a0529a7c7acfe7771">nprops</a>;                   <span class="comment">/* number of properties for this element */</span>
<a name="l00086"></a><a class="code" href="structPlyElement.html#bd25d464578a898680daea44e24fbb21">00086</a>   <a class="code" href="structPlyProperty.html">PlyProperty</a> **<a class="code" href="structPlyElement.html#bd25d464578a898680daea44e24fbb21">props</a>;          <span class="comment">/* list of properties in the file */</span>
<a name="l00087"></a><a class="code" href="structPlyElement.html#a0e220908f47f0c2c3a5bcee0ee01d99">00087</a>   <span class="keywordtype">char</span> *<a class="code" href="structPlyElement.html#a0e220908f47f0c2c3a5bcee0ee01d99">store_prop</a>;             <span class="comment">/* flags: property wanted by user? */</span>
<a name="l00088"></a><a class="code" href="structPlyElement.html#3711e7f51c082da6639ac3239ee2444a">00088</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyElement.html#3711e7f51c082da6639ac3239ee2444a">other_offset</a>;             <span class="comment">/* offset to un-asked-for props, or -1 if none*/</span>
<a name="l00089"></a><a class="code" href="structPlyElement.html#4ec699438f485c7ecca7cb7d623e4e74">00089</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyElement.html#4ec699438f485c7ecca7cb7d623e4e74">other_size</a>;               <span class="comment">/* size of other_props structure */</span>
<a name="l00090"></a>00090 } <a class="code" href="structPlyElement.html">PlyElement</a>;
<a name="l00091"></a>00091 
<a name="l00092"></a><a class="code" href="structPlyOtherProp.html">00092</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structPlyOtherProp.html">PlyOtherProp</a> {   <span class="comment">/* describes other properties in an element */</span>
<a name="l00093"></a><a class="code" href="structPlyOtherProp.html#0804a82b034deb5e259996b8e9270d0c">00093</a>   <span class="keywordtype">char</span> *<a class="code" href="structPlyOtherProp.html#0804a82b034deb5e259996b8e9270d0c">name</a>;                   <span class="comment">/* element name */</span>
<a name="l00094"></a><a class="code" href="structPlyOtherProp.html#e7d96d3736cf602e13f2a308249b60ff">00094</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyOtherProp.html#e7d96d3736cf602e13f2a308249b60ff">size</a>;                     <span class="comment">/* size of other_props */</span>
<a name="l00095"></a><a class="code" href="structPlyOtherProp.html#ebc7f753bbce55f355e5ade8568c35f7">00095</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyOtherProp.html#ebc7f753bbce55f355e5ade8568c35f7">nprops</a>;                   <span class="comment">/* number of properties in other_props */</span>
<a name="l00096"></a><a class="code" href="structPlyOtherProp.html#901cbab454084fb0784975225e9870a8">00096</a>   <a class="code" href="structPlyProperty.html">PlyProperty</a> **<a class="code" href="structPlyOtherProp.html#901cbab454084fb0784975225e9870a8">props</a>;          <span class="comment">/* list of properties in other_props */</span>
<a name="l00097"></a>00097 } <a class="code" href="structPlyOtherProp.html">PlyOtherProp</a>;
<a name="l00098"></a>00098 
<a name="l00099"></a><a class="code" href="structOtherData.html">00099</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structOtherData.html">OtherData</a> { <span class="comment">/* for storing other_props for an other element */</span>
<a name="l00100"></a><a class="code" href="structOtherData.html#21c6a90664f23db87f2e8a91c87b1ac1">00100</a>   <span class="keywordtype">void</span> *<a class="code" href="structOtherData.html#21c6a90664f23db87f2e8a91c87b1ac1">other_props</a>;
<a name="l00101"></a>00101 } <a class="code" href="structOtherData.html">OtherData</a>;
<a name="l00102"></a>00102 
<a name="l00103"></a><a class="code" href="structOtherElem.html">00103</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structOtherElem.html">OtherElem</a> {     <span class="comment">/* data for one "other" element */</span>
<a name="l00104"></a><a class="code" href="structOtherElem.html#86011b3e2b292c7354ff8d39ab6e38f4">00104</a>   <span class="keywordtype">char</span> *<a class="code" href="structOtherElem.html#86011b3e2b292c7354ff8d39ab6e38f4">elem_name</a>;             <span class="comment">/* names of other elements */</span>
<a name="l00105"></a><a class="code" href="structOtherElem.html#e94cc7f40247728d5d98971685ff35e3">00105</a>   <span class="keywordtype">int</span> <a class="code" href="structOtherElem.html#e94cc7f40247728d5d98971685ff35e3">elem_count</a>;              <span class="comment">/* count of instances of each element */</span>
<a name="l00106"></a><a class="code" href="structOtherElem.html#3dec65c2ba1b4c206ac9f3d02ec4b935">00106</a>   <a class="code" href="structOtherData.html">OtherData</a> **<a class="code" href="structOtherElem.html#3dec65c2ba1b4c206ac9f3d02ec4b935">other_data</a>;      <span class="comment">/* actual property data for the elements */</span>
<a name="l00107"></a><a class="code" href="structOtherElem.html#a800ba93c6711ef9da7be0d3cf032263">00107</a>   <a class="code" href="structPlyOtherProp.html">PlyOtherProp</a> *<a class="code" href="structOtherElem.html#a800ba93c6711ef9da7be0d3cf032263">other_props</a>;   <span class="comment">/* description of the property data */</span>
<a name="l00108"></a>00108 } <a class="code" href="structOtherElem.html">OtherElem</a>;
<a name="l00109"></a>00109 
<a name="l00110"></a><a class="code" href="structPlyOtherElems.html">00110</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structPlyOtherElems.html">PlyOtherElems</a> {  <span class="comment">/* "other" elements, not interpreted by user */</span>
<a name="l00111"></a><a class="code" href="structPlyOtherElems.html#b464cc630ef0f33b64474ddf9dd00d63">00111</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyOtherElems.html#b464cc630ef0f33b64474ddf9dd00d63">num_elems</a>;                <span class="comment">/* number of other elements */</span>
<a name="l00112"></a><a class="code" href="structPlyOtherElems.html#2a3390c0b6de21756b10ae550c66de8a">00112</a>   <a class="code" href="structOtherElem.html">OtherElem</a> *<a class="code" href="structPlyOtherElems.html#2a3390c0b6de21756b10ae550c66de8a">other_list</a>;        <span class="comment">/* list of data for other elements */</span>
<a name="l00113"></a>00113 } <a class="code" href="structPlyOtherElems.html">PlyOtherElems</a>;
<a name="l00114"></a>00114 
<a name="l00115"></a><a class="code" href="ply_8h.html#ee4db83b2bb02e76552980aa7a19602b">00115</a> <span class="preprocessor">#define AVERAGE_RULE  1</span>
<a name="l00116"></a><a class="code" href="ply_8h.html#1b76cbbd8c36a8e3743a76336af8c65b">00116</a> <span class="preprocessor"></span><span class="preprocessor">#define MAJORITY_RULE 2</span>
<a name="l00117"></a><a class="code" href="ply_8h.html#13649e6bd34c75d2761f0afbadbfe0f8">00117</a> <span class="preprocessor"></span><span class="preprocessor">#define MINIMUM_RULE  3</span>
<a name="l00118"></a><a class="code" href="ply_8h.html#75f4bc4f181e30bf6b4db3b21299068b">00118</a> <span class="preprocessor"></span><span class="preprocessor">#define MAXIMUM_RULE  4</span>
<a name="l00119"></a><a class="code" href="ply_8h.html#369081acb1b53446015d2d2a93c6c172">00119</a> <span class="preprocessor"></span><span class="preprocessor">#define SAME_RULE     5</span>
<a name="l00120"></a><a class="code" href="ply_8h.html#8ee5711246b0286fc1fd733b9c965921">00120</a> <span class="preprocessor"></span><span class="preprocessor">#define RANDOM_RULE   6</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span>
<a name="l00122"></a><a class="code" href="structPlyPropRules.html">00122</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structPlyPropRules.html">PlyPropRules</a> {   <span class="comment">/* rules for combining "other" properties */</span>
<a name="l00123"></a><a class="code" href="structPlyPropRules.html#f0dfd7d349709b4e89d1e393bb5a14ce">00123</a>   <a class="code" href="structPlyElement.html">PlyElement</a> *<a class="code" href="structPlyPropRules.html#f0dfd7d349709b4e89d1e393bb5a14ce">elem</a>;      <span class="comment">/* element whose rules we are making */</span>
<a name="l00124"></a><a class="code" href="structPlyPropRules.html#54a21f9c73d1d38270399c9ced0195b0">00124</a>   <span class="keywordtype">int</span> *<a class="code" href="structPlyPropRules.html#54a21f9c73d1d38270399c9ced0195b0">rule_list</a>;        <span class="comment">/* types of rules (AVERAGE_PLY, MAJORITY_PLY, etc.) */</span>
<a name="l00125"></a><a class="code" href="structPlyPropRules.html#7c5e73f3165c78ca060d13cb6419a390">00125</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyPropRules.html#7c5e73f3165c78ca060d13cb6419a390">nprops</a>;            <span class="comment">/* number of properties we're combining so far */</span>
<a name="l00126"></a><a class="code" href="structPlyPropRules.html#4638094eab7e48ccac16677ea59b134f">00126</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyPropRules.html#4638094eab7e48ccac16677ea59b134f">max_props</a>;         <span class="comment">/* maximum number of properties we have room for now */</span>
<a name="l00127"></a><a class="code" href="structPlyPropRules.html#5920c60562b896b011a57c2512a86708">00127</a>   <span class="keywordtype">void</span> **<a class="code" href="structPlyPropRules.html#5920c60562b896b011a57c2512a86708">props</a>;          <span class="comment">/* list of properties we're combining */</span>
<a name="l00128"></a><a class="code" href="structPlyPropRules.html#6ca0b9136196090caf606b2d3d5ce524">00128</a>   <span class="keywordtype">float</span> *<a class="code" href="structPlyPropRules.html#6ca0b9136196090caf606b2d3d5ce524">weights</a>;        <span class="comment">/* list of weights of the properties */</span>
<a name="l00129"></a>00129 } <a class="code" href="structPlyPropRules.html">PlyPropRules</a>;
<a name="l00130"></a>00130 
<a name="l00131"></a><a class="code" href="structPlyRuleList.html">00131</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structPlyRuleList.html">PlyRuleList</a> {
<a name="l00132"></a><a class="code" href="structPlyRuleList.html#cc2a474e66e3f872a1f98184be0875f3">00132</a>   <span class="keywordtype">char</span> *<a class="code" href="structPlyRuleList.html#cc2a474e66e3f872a1f98184be0875f3">name</a>;                  <span class="comment">/* name of the rule */</span>
<a name="l00133"></a><a class="code" href="structPlyRuleList.html#6ea1b0f3aa7361c6818f32edb3bb6bc8">00133</a>   <span class="keywordtype">char</span> *<a class="code" href="structPlyRuleList.html#6ea1b0f3aa7361c6818f32edb3bb6bc8">element</a>;               <span class="comment">/* name of element that rule applies to */</span>
<a name="l00134"></a><a class="code" href="structPlyRuleList.html#7c418859b90c7e464a5b0a5c72b29e8e">00134</a>   <span class="keywordtype">char</span> *<a class="code" href="structPlyRuleList.html#7c418859b90c7e464a5b0a5c72b29e8e">property</a>;              <span class="comment">/* name of property that rule applies to */</span>
<a name="l00135"></a><a class="code" href="structPlyRuleList.html#6860d3d58a71ccb9040f1294988bee37">00135</a>   <span class="keyword">struct </span><a class="code" href="structPlyRuleList.html">PlyRuleList</a> *<a class="code" href="structPlyRuleList.html#6860d3d58a71ccb9040f1294988bee37">next</a>;    <span class="comment">/* pointer for linked list of rules */</span>
<a name="l00136"></a>00136 } <a class="code" href="structPlyRuleList.html">PlyRuleList</a>;
<a name="l00137"></a>00137 
<a name="l00138"></a><a class="code" href="structPlyFile.html">00138</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structPlyFile.html">PlyFile</a> {        <span class="comment">/* description of PLY file */</span>
<a name="l00139"></a><a class="code" href="structPlyFile.html#ffa03cb65d7afdc1b54ba1930da1e0ce">00139</a>   FILE *<a class="code" href="structPlyFile.html#ffa03cb65d7afdc1b54ba1930da1e0ce">fp</a>;                     <span class="comment">/* file pointer */</span>
<a name="l00140"></a><a class="code" href="structPlyFile.html#c8f47215e1cab6332c4a91735faceac1">00140</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyFile.html#c8f47215e1cab6332c4a91735faceac1">file_type</a>;                <span class="comment">/* ascii or binary */</span>
<a name="l00141"></a><a class="code" href="structPlyFile.html#54079430fc47c9303c194ecffaf9392d">00141</a>   <span class="keywordtype">float</span> <a class="code" href="structPlyFile.html#54079430fc47c9303c194ecffaf9392d">version</a>;                <span class="comment">/* version number of file */</span>
<a name="l00142"></a><a class="code" href="structPlyFile.html#f81efa2a4464d2c1547f350af9b8b236">00142</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyFile.html#f81efa2a4464d2c1547f350af9b8b236">num_elem_types</a>;           <span class="comment">/* number of element types of object */</span>
<a name="l00143"></a><a class="code" href="structPlyFile.html#a123ddfd8c89539dde7644d121082432">00143</a>   <a class="code" href="structPlyElement.html">PlyElement</a> **<a class="code" href="structPlyFile.html#a123ddfd8c89539dde7644d121082432">elems</a>;           <span class="comment">/* list of elements */</span>
<a name="l00144"></a><a class="code" href="structPlyFile.html#033842a20f0620979d992898f6a52a14">00144</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyFile.html#033842a20f0620979d992898f6a52a14">num_comments</a>;             <span class="comment">/* number of comments */</span>
<a name="l00145"></a><a class="code" href="structPlyFile.html#fe9f3f406d4ae2ae20d9ed0bfb9a990f">00145</a>   <span class="keywordtype">char</span> **<a class="code" href="structPlyFile.html#fe9f3f406d4ae2ae20d9ed0bfb9a990f">comments</a>;              <span class="comment">/* list of comments */</span>
<a name="l00146"></a><a class="code" href="structPlyFile.html#a1a8dc64805585240d50df3192854d18">00146</a>   <span class="keywordtype">int</span> <a class="code" href="structPlyFile.html#a1a8dc64805585240d50df3192854d18">num_obj_info</a>;             <span class="comment">/* number of items of object information */</span>
<a name="l00147"></a><a class="code" href="structPlyFile.html#5537a09cf69258341126d00e39e13343">00147</a>   <span class="keywordtype">char</span> **<a class="code" href="structPlyFile.html#5537a09cf69258341126d00e39e13343">obj_info</a>;              <span class="comment">/* list of object info items */</span>
<a name="l00148"></a><a class="code" href="structPlyFile.html#8446d1253e51c33fc1149d87d60d91c9">00148</a>   <a class="code" href="structPlyElement.html">PlyElement</a> *<a class="code" href="structPlyFile.html#8446d1253e51c33fc1149d87d60d91c9">which_elem</a>;       <span class="comment">/* element we're currently reading or writing */</span>
<a name="l00149"></a><a class="code" href="structPlyFile.html#ceb5a35f93d4ab5df12713e1b62e838b">00149</a>   <a class="code" href="structPlyOtherElems.html">PlyOtherElems</a> *<a class="code" href="structPlyFile.html#ceb5a35f93d4ab5df12713e1b62e838b">other_elems</a>;   <span class="comment">/* "other" elements from a PLY file */</span>
<a name="l00150"></a><a class="code" href="structPlyFile.html#18fd4bb40b95014db237051e48adf6fd">00150</a>   <a class="code" href="structPlyPropRules.html">PlyPropRules</a> *<a class="code" href="structPlyFile.html#18fd4bb40b95014db237051e48adf6fd">current_rules</a>;  <span class="comment">/* current propagation rules */</span>
<a name="l00151"></a><a class="code" href="structPlyFile.html#0d2e8894a83e75be4e5d89334362674e">00151</a>   <a class="code" href="structPlyRuleList.html">PlyRuleList</a> *<a class="code" href="structPlyFile.html#0d2e8894a83e75be4e5d89334362674e">rule_list</a>;       <span class="comment">/* rule list from user */</span>
<a name="l00152"></a>00152 } <a class="code" href="structPlyFile.html">PlyFile</a>;
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 <span class="comment">/* memory allocation */</span>
<a name="l00155"></a>00155 <span class="comment">/*</span>
<a name="l00156"></a>00156 <span class="comment">extern char *my_alloc();</span>
<a name="l00157"></a>00157 <span class="comment">*/</span>
<a name="l00158"></a><a class="code" href="ply_8h.html#63a66598e264179cd8920e0beb1814f2">00158</a> <span class="preprocessor">#define myalloc(mem_size) my_alloc((mem_size), __LINE__, __FILE__)</span>
<a name="l00159"></a>00159 <span class="preprocessor"></span>
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 <span class="comment">/* old routines */</span>
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 <span class="preprocessor">#if 0</span>
<a name="l00164"></a>00164 <span class="preprocessor"></span><span class="keyword">extern</span> <a class="code" href="structPlyFile.html">PlyFile</a> *ply_write(FILE *, <span class="keywordtype">int</span>, <span class="keywordtype">char</span> **, <span class="keywordtype">int</span>);
<a name="l00165"></a>00165 <span class="keyword">extern</span> <a class="code" href="structPlyFile.html">PlyFile</a> *ply_read(FILE *, <span class="keywordtype">int</span> *, <span class="keywordtype">char</span> ***);
<a name="l00166"></a>00166 <span class="keyword">extern</span> <a class="code" href="structPlyFile.html">PlyFile</a> *ply_open_for_reading( <span class="keywordtype">char</span> *, <span class="keywordtype">int</span> *, <span class="keywordtype">char</span> ***, <span class="keywordtype">int</span> *, <span class="keywordtype">float</span> *);
<a name="l00167"></a>00167 <span class="keyword">extern</span> <span class="keywordtype">void</span> ply_close(<a class="code" href="structPlyFile.html">PlyFile</a> *);
<a name="l00168"></a>00168 <span class="keyword">extern</span> <a class="code" href="structPlyOtherProp.html">PlyOtherProp</a> *ply_get_other_properties(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00169"></a>00169 <span class="preprocessor">#endif</span>
<a name="l00170"></a>00170 <span class="preprocessor"></span>
<a name="l00171"></a>00171 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#67ce1fa4d355bdb5f00e60fc69c6a559">ply_describe_property</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">char</span> *, <a class="code" href="structPlyProperty.html">PlyProperty</a> *);
<a name="l00172"></a>00172 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#d8a336361a39ef56e16d66a2e519a8b0">ply_get_property</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">char</span> *, <a class="code" href="structPlyProperty.html">PlyProperty</a> *);
<a name="l00173"></a>00173 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#b5087b8b10ba27abefae1fb0059253be">ply_get_element</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">void</span> *);
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 
<a name="l00176"></a>00176 <span class="comment">/*** delcaration of routines ***/</span>
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 <a class="code" href="structPlyOtherElems.html">PlyOtherElems</a> *<a class="code" href="ply_8h.html#26ddfc1f6e7dde24017ef6aace38a297">get_other_element_ply</a> (<a class="code" href="structPlyFile.html">PlyFile</a> *);
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 <a class="code" href="structPlyFile.html">PlyFile</a> *<a class="code" href="ply_8h.html#76f13165e506ed3c8ebb3134c6df61ac">read_ply</a>(FILE *);
<a name="l00181"></a>00181 <a class="code" href="structPlyFile.html">PlyFile</a> *<a class="code" href="ply_8h.html#efb556b25a564f034721b3b53385c811">write_ply</a>(FILE *, <span class="keywordtype">int</span>, <span class="keywordtype">char</span> **, <span class="keywordtype">int</span>);
<a name="l00182"></a>00182 <span class="keyword">extern</span> <a class="code" href="structPlyFile.html">PlyFile</a> *<a class="code" href="ply_8h.html#b039a91f178eda621a30ad100cd454f2">open_for_writing_ply</a>(<span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">char</span> **, <span class="keywordtype">int</span>);
<a name="l00183"></a>00183 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#16b27b6a52e72cd3d0424cc62ac9110f">close_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *);
<a name="l00184"></a>00184 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#57b5e432c2f12aa6c03b097773575fbb">free_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *);
<a name="l00185"></a>00185 
<a name="l00186"></a>00186 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#d33a721299b0e84dd7c4e83dc65056ca">get_info_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">float</span> *, <span class="keywordtype">int</span> *);
<a name="l00187"></a>00187 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#05db68903bc19da1cc8a369609e59e04">free_other_elements_ply</a> (<a class="code" href="structPlyOtherElems.html">PlyOtherElems</a> *);
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#a9a80aebf88e564c3aaa2c2e6e7e059b">append_comment_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">char</span> *);
<a name="l00190"></a>00190 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#2f3f88c65d4e7c1134b233a47e63ff57">append_obj_info_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">char</span> *);
<a name="l00191"></a>00191 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#c660123767b077c08492860961849dfe">copy_comments_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <a class="code" href="structPlyFile.html">PlyFile</a> *);
<a name="l00192"></a>00192 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#5ef48bc77699ca15ec4f0532b7f6caf7">copy_obj_info_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <a class="code" href="structPlyFile.html">PlyFile</a> *);
<a name="l00193"></a>00193 <span class="keywordtype">char</span> **<a class="code" href="ply_8h.html#51b37f050bc61d0f44b4021c3a78dfbe">get_comments_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">int</span> *);
<a name="l00194"></a>00194 <span class="keywordtype">char</span> **<a class="code" href="ply_8h.html#fd9c641b6d2f53fdbf288a13ad92d68d">get_obj_info_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">int</span> *);
<a name="l00195"></a>00195 
<a name="l00196"></a>00196 <span class="keywordtype">char</span> **<a class="code" href="ply_8h.html#2394bd6ae64572a6e82796e6dfc08817">get_element_list_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">int</span> *);
<a name="l00197"></a>00197 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#269f42f2dbad3948de8dcfda4fc22d49">setup_property_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <a class="code" href="structPlyProperty.html">PlyProperty</a> *);
<a name="l00198"></a>00198 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#439fae39641ac36e0dcf0a2a12abcb14">get_element_ply</a> (<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">void</span> *);
<a name="l00199"></a>00199 <span class="keywordtype">char</span> *<a class="code" href="ply_8h.html#76d419cfa7a0ef7c7b519edb3dd382bd">setup_element_read_ply</a> (<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span> *);
<a name="l00200"></a>00200 <a class="code" href="structPlyOtherProp.html">PlyOtherProp</a> *<a class="code" href="ply_8h.html#e0afe827b0d20cfe659076e7f60b23e4">get_other_properties_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">int</span>);
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#a3844c2a6f2e3fec633de7c077c46f87">element_count_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00203"></a>00203 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#e24380ad711a1b099225abbe3458ce96">describe_element_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00204"></a>00204 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#f8770de529889d9035a3aee370b8c0b1">describe_property_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <a class="code" href="structPlyProperty.html">PlyProperty</a> *);
<a name="l00205"></a>00205 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#aec20a78f9dc910e271c69b43949dfb9">describe_other_properties_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <a class="code" href="structPlyOtherProp.html">PlyOtherProp</a> *, <span class="keywordtype">int</span>);
<a name="l00206"></a>00206 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#23f1d6a2d42ecd367b4e09c571ed82f8">describe_other_elements_ply</a> ( <a class="code" href="structPlyFile.html">PlyFile</a> *, <a class="code" href="structPlyOtherElems.html">PlyOtherElems</a> *);
<a name="l00207"></a>00207 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#adc41034a621dbb6234fb914025ea7f0">get_element_setup_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <a class="code" href="structPlyProperty.html">PlyProperty</a> *);
<a name="l00208"></a>00208 <a class="code" href="structPlyProperty.html">PlyProperty</a> **<a class="code" href="ply_8h.html#6cdad0b86f6f3b2de8fd01458c1293ee">get_element_description_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>*, <span class="keywordtype">int</span>*);
<a name="l00209"></a>00209 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#881cb23eca54f4135afc22276d185a94">element_layout_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <a class="code" href="structPlyProperty.html">PlyProperty</a> *);
<a name="l00210"></a>00210 
<a name="l00211"></a>00211 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#305ab168d03db3c985c9e079ed2daa79">header_complete_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *);
<a name="l00212"></a>00212 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#d10f74656cb5efb157e316756e96a020">put_element_setup_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">char</span> *);
<a name="l00213"></a>00213 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#a41856321252c6c50506f4781ad622e8">put_element_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">void</span> *);
<a name="l00214"></a>00214 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#90c7deda1818105ae8e35402820bb899">put_other_elements_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *);
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 <a class="code" href="structPlyPropRules.html">PlyPropRules</a> *<a class="code" href="ply_8h.html#a1e766e65c97022b7446408a43a0ada4">init_rule_ply</a> (<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">char</span> *);
<a name="l00217"></a>00217 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#b5096e9b5e003b0112915f3ba34ead2a">modify_rule_ply</a> (<a class="code" href="structPlyPropRules.html">PlyPropRules</a> *, <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);
<a name="l00218"></a>00218 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#a0a50337568156218086b13d1a6252cb">start_props_ply</a> (<a class="code" href="structPlyFile.html">PlyFile</a> *, <a class="code" href="structPlyPropRules.html">PlyPropRules</a> *);
<a name="l00219"></a>00219 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#c390c4a8c1daac4ad423516bf114baf0">weight_props_ply</a> (<a class="code" href="structPlyFile.html">PlyFile</a> *, <span class="keywordtype">float</span>, <span class="keywordtype">void</span> *);
<a name="l00220"></a>00220 <span class="keywordtype">void</span> *<a class="code" href="ply_8h.html#40540d03d694ea0d574bc9e10b123b14">get_new_props_ply</a>(<a class="code" href="structPlyFile.html">PlyFile</a> *);
<a name="l00221"></a>00221 <span class="keywordtype">void</span> <a class="code" href="ply_8h.html#9dc713b8c97299d357e1bedad3d23671">set_prop_rules_ply</a> (<a class="code" href="structPlyFile.html">PlyFile</a> *, <a class="code" href="structPlyRuleList.html">PlyRuleList</a> *);
<a name="l00222"></a>00222 <a class="code" href="structPlyRuleList.html">PlyRuleList</a> *<a class="code" href="ply_8h.html#61b62a56ce9c9ddd0a8d3d78b2e5b6e8">append_prop_rule</a> (<a class="code" href="structPlyRuleList.html">PlyRuleList</a> *, <span class="keywordtype">char</span> *, <span class="keywordtype">char</span> *);
<a name="l00223"></a>00223 <span class="keywordtype">int</span> <a class="code" href="ply_8h.html#bd3222acea9c873866c232113f042e34">matches_rule_name</a> (<span class="keywordtype">char</span> *);
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 <span class="keywordtype">int</span> <a class="code" href="ply_8h.html#6f7b29cc8bcd79aefba1571d5afc5672">equal_strings</a>(<span class="keywordtype">char</span> *, <span class="keywordtype">char</span> *);
<a name="l00226"></a>00226 <span class="keywordtype">char</span> *<a class="code" href="ply_8h.html#b8faf6b0ea645482b76b33bee4a7f0c3">recreate_command_line</a> (<span class="keywordtype">int</span>, <span class="keywordtype">char</span> *argv[]);
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 
<a name="l00229"></a>00229 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00230"></a>00230 <span class="preprocessor"></span>}
<a name="l00231"></a>00231 <span class="preprocessor">#endif</span>
<a name="l00232"></a>00232 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* !__PLY_H__ */</span>
<a name="l00233"></a>00233 
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 20 17:31:53 2009 for pbrt by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
