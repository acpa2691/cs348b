<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>pbrt: KdTreeAccel Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>KdTreeAccel Class Reference</h1><!-- doxytag: class="KdTreeAccel" --><!-- doxytag: inherits="Aggregate" --><div class="dynheader">
Inheritance diagram for KdTreeAccel:</div>
<div class="dynsection">

<p><center><img src="classKdTreeAccel.png" usemap="#KdTreeAccel_map" border="0" alt=""></center>
<map name="KdTreeAccel_map">
<area href="classAggregate.html" alt="Aggregate" shape="rect" coords="0,112,118,136">
<area href="classPrimitive.html" alt="Primitive" shape="rect" coords="0,56,118,80">
<area href="classReferenceCounted.html" alt="ReferenceCounted" shape="rect" coords="0,0,118,24">
</map>
</div>

<p>
<a href="classKdTreeAccel-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#62f9a15970262e8b316e35fcab2956e4">KdTreeAccel</a> (const vector&lt; <a class="el" href="classReference.html">Reference</a>&lt; <a class="el" href="classPrimitive.html">Primitive</a> &gt; &gt; &amp;p, int icost, int scost, float ebonus, int maxp, int maxDepth)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classBBox.html">BBox</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#a8dedf8866949620dcf1d31aca26935b">WorldBound</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#4508e3d3e599429304e2ed0da848390a">CanIntersect</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#5bc6b8ac95f4f03363f24a19bb88f04e">~KdTreeAccel</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#081525774974a4d860f28488cd5285c7">buildTree</a> (int nodeNum, const <a class="el" href="classBBox.html">BBox</a> &amp;<a class="el" href="classKdTreeAccel.html#fbd463cb613f2aeea736a66bd970d00d">bounds</a>, const vector&lt; <a class="el" href="classBBox.html">BBox</a> &gt; &amp;primBounds, int *primNums, int nprims, int depth, <a class="el" href="structBoundEdge.html">BoundEdge</a> *edges[3], int *prims0, int *prims1, int badRefines=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#3e6620d44766ad36a06c2515c73c3f94">Intersect</a> (const <a class="el" href="classRay.html">Ray</a> &amp;ray, <a class="el" href="structIntersection.html">Intersection</a> *isect) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#7c038872df7027e0f0d7be0d1108bb66">IntersectP</a> (const <a class="el" href="classRay.html">Ray</a> &amp;ray) const </td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#5812c41fd50653c6331044d1989af185">isectCost</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#96d40a7cb14257932f589642862a72c5">traversalCost</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#7402fb2d0d5763961bc8c82acbe91f3a">maxPrims</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#7c30ec030e0340a801858bb6eb698d29">emptyBonus</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="pbrt_8h.html#c319c165d52643e43249fe003e18bdf3">u_int</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#9be5bd79d199360cc542a3210b3c930d">nMailboxes</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structMailboxPrim.html">MailboxPrim</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#370ba74787694e005d73857a6eea00ad">mailboxPrims</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#f75252a3070a8413f49147c8340c65a8">curMailboxId</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structKdAccelNode.html">KdAccelNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#4108d382bc382c763d482c63cbf8361e">nodes</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#b74a4e1db5a9ca478144cb08a692fd7b">nAllocedNodes</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#75f5d9821e52aec562ea653e5c4d8ebd">nextFreeNode</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classBBox.html">BBox</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#fbd463cb613f2aeea736a66bd970d00d">bounds</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classMemoryArena.html">MemoryArena</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKdTreeAccel.html#517b3a08d6596893b29f72e22e221016">arena</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00108">108</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="62f9a15970262e8b316e35fcab2956e4"></a><!-- doxytag: member="KdTreeAccel::KdTreeAccel" ref="62f9a15970262e8b316e35fcab2956e4" args="(const vector&lt; Reference&lt; Primitive &gt; &gt; &amp;p, int icost, int scost, float ebonus, int maxp, int maxDepth)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KdTreeAccel::KdTreeAccel           </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; <a class="el" href="classReference.html">Reference</a>&lt; <a class="el" href="classPrimitive.html">Primitive</a> &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>icost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>scost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>ebonus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxDepth</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00142">142</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>References <a class="el" href="util_8cpp-source.html#l00389">AllocAligned()</a>, <a class="el" href="kdtree_8cpp-source.html#l00133">bounds</a>, <a class="el" href="kdtree_8cpp-source.html#l00197">buildTree()</a>, <a class="el" href="kdtree_8cpp-source.html#l00130">curMailboxId</a>, <a class="el" href="primitive_8cpp-source.html#l00040">Primitive::FullyRefine()</a>, <a class="el" href="pbrt_8h-source.html#l00576">Log2Int()</a>, <a class="el" href="kdtree_8cpp-source.html#l00129">mailboxPrims</a>, <a class="el" href="kdtree_8cpp-source.html#l00132">nAllocedNodes</a>, <a class="el" href="kdtree_8cpp-source.html#l00132">nextFreeNode</a>, <a class="el" href="kdtree_8cpp-source.html#l00128">nMailboxes</a>, <a class="el" href="pbrt_8h-source.html#l00601">Round2Int()</a>, and <a class="el" href="geometry_8cpp-source.html#l00027">Union()</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00489">CreateAccelerator()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5bc6b8ac95f4f03363f24a19bb88f04e"></a><!-- doxytag: member="KdTreeAccel::~KdTreeAccel" ref="5bc6b8ac95f4f03363f24a19bb88f04e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KdTreeAccel::~KdTreeAccel           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00191">191</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>References <a class="el" href="util_8cpp-source.html#l00395">FreeAligned()</a>, <a class="el" href="kdtree_8cpp-source.html#l00129">mailboxPrims</a>, <a class="el" href="kdtree_8cpp-source.html#l00128">nMailboxes</a>, and <a class="el" href="kdtree_8cpp-source.html#l00131">nodes</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a8dedf8866949620dcf1d31aca26935b"></a><!-- doxytag: member="KdTreeAccel::WorldBound" ref="a8dedf8866949620dcf1d31aca26935b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBBox.html">BBox</a> KdTreeAccel::WorldBound           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Implements <a class="el" href="classPrimitive.html#33edc620745824a4d035713b4b9abf25">Primitive</a>.</p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00114">114</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>References <a class="el" href="kdtree_8cpp-source.html#l00133">bounds</a>.</p>

</div>
</div><p>
<a class="anchor" name="4508e3d3e599429304e2ed0da848390a"></a><!-- doxytag: member="KdTreeAccel::CanIntersect" ref="4508e3d3e599429304e2ed0da848390a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KdTreeAccel::CanIntersect           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented from <a class="el" href="classPrimitive.html#565c22148ebb6a00f426b7907a8082c8">Primitive</a>.</p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00115">115</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="081525774974a4d860f28488cd5285c7"></a><!-- doxytag: member="KdTreeAccel::buildTree" ref="081525774974a4d860f28488cd5285c7" args="(int nodeNum, const BBox &amp;bounds, const vector&lt; BBox &gt; &amp;primBounds, int *primNums, int nprims, int depth, BoundEdge *edges[3], int *prims0, int *prims1, int badRefines=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KdTreeAccel::buildTree           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nodeNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classBBox.html">BBox</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>bounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; <a class="el" href="classBBox.html">BBox</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>primBounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>primNums</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nprims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBoundEdge.html">BoundEdge</a> *&nbsp;</td>
          <td class="paramname"> <em>edges</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>prims0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>prims1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>badRefines</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00197">197</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>References <a class="el" href="kdtree_8cpp-source.html#l00084">KdAccelNode::aboveChild</a>, <a class="el" href="util_8cpp-source.html#l00389">AllocAligned()</a>, <a class="el" href="kdtree_8cpp-source.html#l00134">arena</a>, <a class="el" href="pbrtlex_8l-source.html#l00542">Assert</a>, <a class="el" href="kdtree_8cpp-source.html#l00127">emptyBonus</a>, <a class="el" href="kdtree_8cpp-source.html#l00104">BoundEdge::END</a>, <a class="el" href="util_8cpp-source.html#l00395">FreeAligned()</a>, <a class="el" href="pbrtlex_8l-source.html#l00206">INFINITY</a>, <a class="el" href="kdtree_8cpp-source.html#l00067">KdAccelNode::initInterior()</a>, <a class="el" href="kdtree_8cpp-source.html#l00038">KdAccelNode::initLeaf()</a>, <a class="el" href="kdtree_8cpp-source.html#l00126">isectCost</a>, <a class="el" href="kdtree_8cpp-source.html#l00129">mailboxPrims</a>, <a class="el" href="kdtree_8cpp-source.html#l00126">maxPrims</a>, <a class="el" href="pbrtparse_8y.html#2ac249754cc680184bc1b7825aacb876">memcpy()</a>, <a class="el" href="kdtree_8cpp-source.html#l00132">nAllocedNodes</a>, <a class="el" href="kdtree_8cpp-source.html#l00132">nextFreeNode</a>, <a class="el" href="kdtree_8cpp-source.html#l00131">nodes</a>, <a class="el" href="geometry_8h-source.html#l00282">BBox::pMax</a>, <a class="el" href="geometry_8h-source.html#l00282">BBox::pMin</a>, <a class="el" href="kdtree_8cpp-source.html#l00103">BoundEdge::primNum</a>, <a class="el" href="kdtree_8cpp-source.html#l00104">BoundEdge::START</a>, <a class="el" href="kdtree_8cpp-source.html#l00102">BoundEdge::t</a>, <a class="el" href="kdtree_8cpp-source.html#l00126">traversalCost</a>, <a class="el" href="geometry_8h-source.html#l00092">Vector::x</a>, <a class="el" href="geometry_8h-source.html#l00092">Vector::y</a>, and <a class="el" href="geometry_8h-source.html#l00092">Vector::z</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00142">KdTreeAccel()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3e6620d44766ad36a06c2515c73c3f94"></a><!-- doxytag: member="KdTreeAccel::Intersect" ref="3e6620d44766ad36a06c2515c73c3f94" args="(const Ray &amp;ray, Intersection *isect) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KdTreeAccel::Intersect           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classRay.html">Ray</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIntersection.html">Intersection</a> *&nbsp;</td>
          <td class="paramname"> <em>isect</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Implements <a class="el" href="classPrimitive.html#efbd4030a8af1396d89438cbecc662f7">Primitive</a>.</p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00313">313</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>References <a class="el" href="kdtree_8cpp-source.html#l00084">KdAccelNode::aboveChild</a>, <a class="el" href="kdtree_8cpp-source.html#l00133">bounds</a>, <a class="el" href="kdtree_8cpp-source.html#l00130">curMailboxId</a>, <a class="el" href="geometry_8h-source.html#l00210">Ray::d</a>, <a class="el" href="geometry_8cpp-source.html#l00051">BBox::IntersectP()</a>, <a class="el" href="kdtree_8cpp-source.html#l00077">KdAccelNode::IsLeaf()</a>, <a class="el" href="grid_8cpp-source.html#l00039">MailboxPrim::lastMailboxId</a>, <a class="el" href="kdtree_8cpp.html#0392e4b1ac8ed28fc3991862cc4b47ef">MAX_TODO</a>, <a class="el" href="geometry_8h-source.html#l00211">Ray::maxt</a>, <a class="el" href="kdtree_8cpp-source.html#l00137">KdToDo::node</a>, <a class="el" href="kdtree_8cpp-source.html#l00131">nodes</a>, <a class="el" href="kdtree_8cpp-source.html#l00075">KdAccelNode::nPrimitives()</a>, <a class="el" href="geometry_8h-source.html#l00209">Ray::o</a>, <a class="el" href="kdtree_8cpp-source.html#l00085">KdAccelNode::onePrimitive</a>, <a class="el" href="grid_8cpp-source.html#l00038">MailboxPrim::primitive</a>, <a class="el" href="kdtree_8cpp-source.html#l00086">KdAccelNode::primitives</a>, <a class="el" href="kdtree_8cpp-source.html#l00076">KdAccelNode::SplitAxis()</a>, <a class="el" href="kdtree_8cpp-source.html#l00074">KdAccelNode::SplitPos()</a>, <a class="el" href="kdtree_8cpp-source.html#l00138">KdToDo::tmax</a>, <a class="el" href="kdtree_8cpp-source.html#l00138">KdToDo::tmin</a>, <a class="el" href="geometry_8h-source.html#l00092">Vector::x</a>, <a class="el" href="geometry_8h-source.html#l00092">Vector::y</a>, and <a class="el" href="geometry_8h-source.html#l00092">Vector::z</a>.</p>

</div>
</div><p>
<a class="anchor" name="7c038872df7027e0f0d7be0d1108bb66"></a><!-- doxytag: member="KdTreeAccel::IntersectP" ref="7c038872df7027e0f0d7be0d1108bb66" args="(const Ray &amp;ray) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KdTreeAccel::IntersectP           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classRay.html">Ray</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ray</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Implements <a class="el" href="classPrimitive.html#12bfc49d8d23defdc6a06bb7f2e5986e">Primitive</a>.</p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00404">404</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>References <a class="el" href="kdtree_8cpp-source.html#l00084">KdAccelNode::aboveChild</a>, <a class="el" href="kdtree_8cpp-source.html#l00133">bounds</a>, <a class="el" href="kdtree_8cpp-source.html#l00130">curMailboxId</a>, <a class="el" href="geometry_8h-source.html#l00210">Ray::d</a>, <a class="el" href="geometry_8cpp-source.html#l00051">BBox::IntersectP()</a>, <a class="el" href="kdtree_8cpp-source.html#l00077">KdAccelNode::IsLeaf()</a>, <a class="el" href="grid_8cpp-source.html#l00039">MailboxPrim::lastMailboxId</a>, <a class="el" href="kdtree_8cpp.html#0392e4b1ac8ed28fc3991862cc4b47ef">MAX_TODO</a>, <a class="el" href="kdtree_8cpp-source.html#l00137">KdToDo::node</a>, <a class="el" href="kdtree_8cpp-source.html#l00131">nodes</a>, <a class="el" href="kdtree_8cpp-source.html#l00075">KdAccelNode::nPrimitives()</a>, <a class="el" href="geometry_8h-source.html#l00209">Ray::o</a>, <a class="el" href="kdtree_8cpp-source.html#l00085">KdAccelNode::onePrimitive</a>, <a class="el" href="grid_8cpp-source.html#l00038">MailboxPrim::primitive</a>, <a class="el" href="kdtree_8cpp-source.html#l00086">KdAccelNode::primitives</a>, <a class="el" href="kdtree_8cpp-source.html#l00076">KdAccelNode::SplitAxis()</a>, <a class="el" href="kdtree_8cpp-source.html#l00074">KdAccelNode::SplitPos()</a>, <a class="el" href="kdtree_8cpp-source.html#l00138">KdToDo::tmax</a>, <a class="el" href="kdtree_8cpp-source.html#l00138">KdToDo::tmin</a>, <a class="el" href="geometry_8h-source.html#l00092">Vector::x</a>, <a class="el" href="geometry_8h-source.html#l00092">Vector::y</a>, and <a class="el" href="geometry_8h-source.html#l00092">Vector::z</a>.</p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="5812c41fd50653c6331044d1989af185"></a><!-- doxytag: member="KdTreeAccel::isectCost" ref="5812c41fd50653c6331044d1989af185" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classKdTreeAccel.html#5812c41fd50653c6331044d1989af185">KdTreeAccel::isectCost</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00126">126</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00197">buildTree()</a>, and <a class="el" href="kdtree_8cpp-source.html#l00489">CreateAccelerator()</a>.</p>

</div>
</div><p>
<a class="anchor" name="96d40a7cb14257932f589642862a72c5"></a><!-- doxytag: member="KdTreeAccel::traversalCost" ref="96d40a7cb14257932f589642862a72c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classKdTreeAccel.html#96d40a7cb14257932f589642862a72c5">KdTreeAccel::traversalCost</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00126">126</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00197">buildTree()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7402fb2d0d5763961bc8c82acbe91f3a"></a><!-- doxytag: member="KdTreeAccel::maxPrims" ref="7402fb2d0d5763961bc8c82acbe91f3a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classKdTreeAccel.html#7402fb2d0d5763961bc8c82acbe91f3a">KdTreeAccel::maxPrims</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00126">126</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00197">buildTree()</a>, and <a class="el" href="kdtree_8cpp-source.html#l00489">CreateAccelerator()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7c30ec030e0340a801858bb6eb698d29"></a><!-- doxytag: member="KdTreeAccel::emptyBonus" ref="7c30ec030e0340a801858bb6eb698d29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classKdTreeAccel.html#7c30ec030e0340a801858bb6eb698d29">KdTreeAccel::emptyBonus</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00127">127</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00197">buildTree()</a>, and <a class="el" href="kdtree_8cpp-source.html#l00489">CreateAccelerator()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9be5bd79d199360cc542a3210b3c930d"></a><!-- doxytag: member="KdTreeAccel::nMailboxes" ref="9be5bd79d199360cc542a3210b3c930d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pbrt_8h.html#c319c165d52643e43249fe003e18bdf3">u_int</a> <a class="el" href="classKdTreeAccel.html#9be5bd79d199360cc542a3210b3c930d">KdTreeAccel::nMailboxes</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00128">128</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00142">KdTreeAccel()</a>, and <a class="el" href="kdtree_8cpp-source.html#l00191">~KdTreeAccel()</a>.</p>

</div>
</div><p>
<a class="anchor" name="370ba74787694e005d73857a6eea00ad"></a><!-- doxytag: member="KdTreeAccel::mailboxPrims" ref="370ba74787694e005d73857a6eea00ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMailboxPrim.html">MailboxPrim</a>* <a class="el" href="classKdTreeAccel.html#370ba74787694e005d73857a6eea00ad">KdTreeAccel::mailboxPrims</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00129">129</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00197">buildTree()</a>, <a class="el" href="kdtree_8cpp-source.html#l00142">KdTreeAccel()</a>, and <a class="el" href="kdtree_8cpp-source.html#l00191">~KdTreeAccel()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f75252a3070a8413f49147c8340c65a8"></a><!-- doxytag: member="KdTreeAccel::curMailboxId" ref="f75252a3070a8413f49147c8340c65a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classKdTreeAccel.html#f75252a3070a8413f49147c8340c65a8">KdTreeAccel::curMailboxId</a><code> [mutable, private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00130">130</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00313">Intersect()</a>, <a class="el" href="kdtree_8cpp-source.html#l00404">IntersectP()</a>, and <a class="el" href="kdtree_8cpp-source.html#l00142">KdTreeAccel()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4108d382bc382c763d482c63cbf8361e"></a><!-- doxytag: member="KdTreeAccel::nodes" ref="4108d382bc382c763d482c63cbf8361e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structKdAccelNode.html">KdAccelNode</a>* <a class="el" href="classKdTreeAccel.html#4108d382bc382c763d482c63cbf8361e">KdTreeAccel::nodes</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00131">131</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00197">buildTree()</a>, <a class="el" href="kdtree_8cpp-source.html#l00313">Intersect()</a>, <a class="el" href="kdtree_8cpp-source.html#l00404">IntersectP()</a>, and <a class="el" href="kdtree_8cpp-source.html#l00191">~KdTreeAccel()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b74a4e1db5a9ca478144cb08a692fd7b"></a><!-- doxytag: member="KdTreeAccel::nAllocedNodes" ref="b74a4e1db5a9ca478144cb08a692fd7b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classKdTreeAccel.html#b74a4e1db5a9ca478144cb08a692fd7b">KdTreeAccel::nAllocedNodes</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00132">132</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00197">buildTree()</a>, and <a class="el" href="kdtree_8cpp-source.html#l00142">KdTreeAccel()</a>.</p>

</div>
</div><p>
<a class="anchor" name="75f5d9821e52aec562ea653e5c4d8ebd"></a><!-- doxytag: member="KdTreeAccel::nextFreeNode" ref="75f5d9821e52aec562ea653e5c4d8ebd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classKdTreeAccel.html#75f5d9821e52aec562ea653e5c4d8ebd">KdTreeAccel::nextFreeNode</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00132">132</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00197">buildTree()</a>, and <a class="el" href="kdtree_8cpp-source.html#l00142">KdTreeAccel()</a>.</p>

</div>
</div><p>
<a class="anchor" name="fbd463cb613f2aeea736a66bd970d00d"></a><!-- doxytag: member="KdTreeAccel::bounds" ref="fbd463cb613f2aeea736a66bd970d00d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBBox.html">BBox</a> <a class="el" href="classKdTreeAccel.html#fbd463cb613f2aeea736a66bd970d00d">KdTreeAccel::bounds</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00133">133</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00313">Intersect()</a>, <a class="el" href="kdtree_8cpp-source.html#l00404">IntersectP()</a>, <a class="el" href="kdtree_8cpp-source.html#l00142">KdTreeAccel()</a>, and <a class="el" href="kdtree_8cpp-source.html#l00114">WorldBound()</a>.</p>

</div>
</div><p>
<a class="anchor" name="517b3a08d6596893b29f72e22e221016"></a><!-- doxytag: member="KdTreeAccel::arena" ref="517b3a08d6596893b29f72e22e221016" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMemoryArena.html">MemoryArena</a> <a class="el" href="classKdTreeAccel.html#517b3a08d6596893b29f72e22e221016">KdTreeAccel::arena</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="kdtree_8cpp-source.html#l00134">134</a> of file <a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="kdtree_8cpp-source.html#l00197">buildTree()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="kdtree_8cpp-source.html">kdtree.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 20 17:31:55 2009 for pbrt by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
