<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>pbrt: paramset.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>paramset.h</h1><a href="paramset_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">/*</span>
<a name="l00003"></a>00003 <span class="comment">    pbrt source code Copyright(c) 1998-2007 Matt Pharr and Greg Humphreys.</span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="comment">    This file is part of pbrt.</span>
<a name="l00006"></a>00006 <span class="comment"></span>
<a name="l00007"></a>00007 <span class="comment">    pbrt is free software; you can redistribute it and/or modify</span>
<a name="l00008"></a>00008 <span class="comment">    it under the terms of the GNU General Public License as published by</span>
<a name="l00009"></a>00009 <span class="comment">    the Free Software Foundation; either version 2 of the License, or</span>
<a name="l00010"></a>00010 <span class="comment">    (at your option) any later version.  Note that the text contents of</span>
<a name="l00011"></a>00011 <span class="comment">    the book "Physically Based Rendering" are *not* licensed under the</span>
<a name="l00012"></a>00012 <span class="comment">    GNU GPL.</span>
<a name="l00013"></a>00013 <span class="comment"></span>
<a name="l00014"></a>00014 <span class="comment">    pbrt is distributed in the hope that it will be useful,</span>
<a name="l00015"></a>00015 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00016"></a>00016 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00017"></a>00017 <span class="comment">    GNU General Public License for more details.</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">    You should have received a copy of the GNU General Public License</span>
<a name="l00020"></a>00020 <span class="comment">    along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00021"></a>00021 <span class="comment"></span>
<a name="l00022"></a>00022 <span class="comment"> */</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="preprocessor">#ifndef PBRT_PARAMSET_H</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">#define PBRT_PARAMSET_H</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="comment">// paramset.h*</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include "<a class="code" href="pbrt_8h.html">pbrt.h</a>"</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include "<a class="code" href="geometry_8h.html">geometry.h</a>"</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include "<a class="code" href="texture_8h.html">texture.h</a>"</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include "<a class="code" href="color_8h.html">color.h</a>"</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00032"></a>00032 <span class="keyword">using</span> std::map;
<a name="l00033"></a>00033 <span class="preprocessor">#if (_MSC_VER &gt;= 1400) // NOBOOK</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#include &lt;stdio.h&gt;</span>     <span class="comment">// NOBOOK</span>
<a name="l00035"></a>00035 <span class="preprocessor">#define snprintf _snprintf // NOBOOK</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="preprocessor">#endif // NOBOOK</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span><span class="comment">// ParamSet Macros</span>
<a name="l00038"></a><a class="code" href="paramset_8h.html#c05b35bf70db44c80bd8bde63b1648e9">00038</a> <span class="preprocessor">#define ADD_PARAM_TYPE(T, vec) \</span>
<a name="l00039"></a>00039 <span class="preprocessor">        (vec).push_back(new ParamSetItem&lt;T&gt;(name, (T *)data, nItems))</span>
<a name="l00040"></a><a class="code" href="paramset_8h.html#785c7814c6fd99dbd3a32b6c863f35eb">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define LOOKUP_PTR(vec) \</span>
<a name="l00041"></a>00041 <span class="preprocessor">        for (u_int i = 0; i &lt; (vec).size(); ++i) \</span>
<a name="l00042"></a>00042 <span class="preprocessor">                if ((vec)[i]-&gt;name == name) { \</span>
<a name="l00043"></a>00043 <span class="preprocessor">                        *nItems = (vec)[i]-&gt;nItems; \</span>
<a name="l00044"></a>00044 <span class="preprocessor">                        (vec)[i]-&gt;lookedUp = true; \</span>
<a name="l00045"></a>00045 <span class="preprocessor">                        return (vec)[i]-&gt;data; \</span>
<a name="l00046"></a>00046 <span class="preprocessor">                } \</span>
<a name="l00047"></a>00047 <span class="preprocessor">        return NULL</span>
<a name="l00048"></a><a class="code" href="paramset_8h.html#16174b8b237c0eb28b87f4937de5da11">00048</a> <span class="preprocessor"></span><span class="preprocessor">#define LOOKUP_ONE(vec) \</span>
<a name="l00049"></a>00049 <span class="preprocessor">        for (u_int i = 0; i &lt; (vec).size(); ++i) { \</span>
<a name="l00050"></a>00050 <span class="preprocessor">                if ((vec)[i]-&gt;name == name &amp;&amp; \</span>
<a name="l00051"></a>00051 <span class="preprocessor">                        (vec)[i]-&gt;nItems == 1) { \</span>
<a name="l00052"></a>00052 <span class="preprocessor">                        (vec)[i]-&gt;lookedUp = true; \</span>
<a name="l00053"></a>00053 <span class="preprocessor">                        return *((vec)[i]-&gt;data); \</span>
<a name="l00054"></a>00054 <span class="preprocessor">}               } \</span>
<a name="l00055"></a>00055 <span class="preprocessor">        return d</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="comment">// ParamSet Declarations</span>
<a name="l00057"></a><a class="code" href="classParamSet.html">00057</a> <span class="keyword">class </span><a class="code" href="pbrt_8h.html#1ca894daa11d476d9e76947dceaf0255">COREDLL</a> <a class="code" href="classParamSet.html">ParamSet</a> {
<a name="l00058"></a>00058 <span class="keyword">public</span>:
<a name="l00059"></a>00059         <span class="comment">// ParamSet Public Methods</span>
<a name="l00060"></a><a class="code" href="classParamSet.html#4bc01de92399d1d34da4feb13c79daa9">00060</a>         <a class="code" href="classParamSet.html">ParamSet</a>() { }
<a name="l00061"></a>00061         <a class="code" href="classParamSet.html">ParamSet</a> &amp;operator=(<span class="keyword">const</span> <a class="code" href="classParamSet.html">ParamSet</a> &amp;p2);
<a name="l00062"></a>00062         <a class="code" href="classParamSet.html">ParamSet</a>(<span class="keyword">const</span> <a class="code" href="classParamSet.html">ParamSet</a> &amp;p2);
<a name="l00063"></a>00063         <span class="keywordtype">void</span> AddFloat(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keyword">const</span> <span class="keywordtype">float</span> *, <span class="keywordtype">int</span> nItems = 1);
<a name="l00064"></a>00064         <span class="keywordtype">void</span> AddInt(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;,
<a name="l00065"></a>00065                     <span class="keyword">const</span> <span class="keywordtype">int</span> *,
<a name="l00066"></a>00066                                 <span class="keywordtype">int</span> nItems = 1);
<a name="l00067"></a>00067         <span class="keywordtype">void</span> AddBool(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;,
<a name="l00068"></a>00068                      <span class="keyword">const</span> <span class="keywordtype">bool</span> *,
<a name="l00069"></a>00069                                  <span class="keywordtype">int</span> nItems = 1);
<a name="l00070"></a>00070         <span class="keywordtype">void</span> AddPoint(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;,
<a name="l00071"></a>00071                       <span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> *,
<a name="l00072"></a>00072                                   <span class="keywordtype">int</span> nItems = 1);
<a name="l00073"></a>00073         <span class="keywordtype">void</span> AddVector(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;,
<a name="l00074"></a>00074                        <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> *,
<a name="l00075"></a>00075                                    <span class="keywordtype">int</span> nItems = 1);
<a name="l00076"></a>00076         <span class="keywordtype">void</span> AddNormal(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;,
<a name="l00077"></a>00077                        <span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> *,
<a name="l00078"></a>00078                                    <span class="keywordtype">int</span> nItems = 1);
<a name="l00079"></a>00079         <span class="keywordtype">void</span> AddSpectrum(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;,
<a name="l00080"></a>00080                         <span class="keyword">const</span> <a class="code" href="classSpectrum.html">Spectrum</a> *,
<a name="l00081"></a>00081                                         <span class="keywordtype">int</span> nItems = 1);
<a name="l00082"></a>00082         <span class="keywordtype">void</span> AddString(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;,
<a name="l00083"></a>00083                       <span class="keyword">const</span> <span class="keywordtype">string</span> *,
<a name="l00084"></a>00084                                   <span class="keywordtype">int</span> nItems = 1);
<a name="l00085"></a>00085         <span class="keywordtype">void</span> AddTexture(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;,
<a name="l00086"></a>00086                         <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;);
<a name="l00087"></a>00087         <span class="keywordtype">bool</span> EraseInt(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;);
<a name="l00088"></a>00088         <span class="keywordtype">bool</span> EraseBool(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;);
<a name="l00089"></a>00089         <span class="keywordtype">bool</span> EraseFloat(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;);
<a name="l00090"></a>00090         <span class="keywordtype">bool</span> ErasePoint(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;);
<a name="l00091"></a>00091         <span class="keywordtype">bool</span> EraseVector(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;);
<a name="l00092"></a>00092         <span class="keywordtype">bool</span> EraseNormal(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;);
<a name="l00093"></a>00093         <span class="keywordtype">bool</span> EraseSpectrum(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;);
<a name="l00094"></a>00094         <span class="keywordtype">bool</span> EraseString(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;);
<a name="l00095"></a>00095         <span class="keywordtype">bool</span> EraseTexture(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;);
<a name="l00096"></a>00096         <span class="keywordtype">float</span> FindOneFloat(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keywordtype">float</span> d) <span class="keyword">const</span>;
<a name="l00097"></a>00097         <span class="keywordtype">int</span> FindOneInt(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keywordtype">int</span> d) <span class="keyword">const</span>;
<a name="l00098"></a>00098         <span class="keywordtype">bool</span> FindOneBool(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keywordtype">bool</span> d) <span class="keyword">const</span>;
<a name="l00099"></a>00099         <a class="code" href="classPoint.html">Point</a> FindOnePoint(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;d) <span class="keyword">const</span>;
<a name="l00100"></a>00100         <a class="code" href="classVector.html">Vector</a> FindOneVector(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;d) <span class="keyword">const</span>;
<a name="l00101"></a>00101         <a class="code" href="classNormal.html">Normal</a> FindOneNormal(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;d) <span class="keyword">const</span>;
<a name="l00102"></a>00102         <a class="code" href="classSpectrum.html">Spectrum</a> FindOneSpectrum(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;,
<a name="l00103"></a>00103                 <span class="keyword">const</span> <a class="code" href="classSpectrum.html">Spectrum</a> &amp;d) <span class="keyword">const</span>;
<a name="l00104"></a>00104         <span class="keywordtype">string</span> FindOneString(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;d) <span class="keyword">const</span>;
<a name="l00105"></a>00105         <span class="keywordtype">string</span> FindTexture(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;) <span class="keyword">const</span>;
<a name="l00106"></a>00106         <span class="keyword">const</span> <span class="keywordtype">float</span> *FindFloat(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keywordtype">int</span> *nItems) <span class="keyword">const</span>;
<a name="l00107"></a>00107         <span class="keyword">const</span> <span class="keywordtype">int</span> *FindInt(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keywordtype">int</span> *nItems) <span class="keyword">const</span>;
<a name="l00108"></a>00108         <span class="keyword">const</span> <span class="keywordtype">bool</span> *FindBool(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keywordtype">int</span> *nItems) <span class="keyword">const</span>;
<a name="l00109"></a>00109         <span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> *FindPoint(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keywordtype">int</span> *nItems) <span class="keyword">const</span>;
<a name="l00110"></a>00110         <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> *FindVector(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keywordtype">int</span> *nItems) <span class="keyword">const</span>;
<a name="l00111"></a>00111         <span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> *FindNormal(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;, <span class="keywordtype">int</span> *nItems) <span class="keyword">const</span>;
<a name="l00112"></a>00112         <span class="keyword">const</span> <a class="code" href="classSpectrum.html">Spectrum</a> *FindSpectrum(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;,
<a name="l00113"></a>00113                 <span class="keywordtype">int</span> *nItems) <span class="keyword">const</span>;
<a name="l00114"></a>00114         <span class="keyword">const</span> <span class="keywordtype">string</span> *FindString(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;,
<a name="l00115"></a>00115                 <span class="keywordtype">int</span> *nItems) <span class="keyword">const</span>;
<a name="l00116"></a>00116         <span class="keywordtype">void</span> ReportUnused() <span class="keyword">const</span>;
<a name="l00117"></a><a class="code" href="classParamSet.html#36b036ec2336d9f3baa9bdd25ac41459">00117</a>         ~<a class="code" href="classParamSet.html">ParamSet</a>() {
<a name="l00118"></a>00118                 Clear();
<a name="l00119"></a>00119         }
<a name="l00120"></a>00120         <span class="keywordtype">void</span> Clear();
<a name="l00121"></a>00121         <span class="keywordtype">string</span> ToString() <span class="keyword">const</span>;
<a name="l00122"></a>00122 <span class="keyword">private</span>:
<a name="l00123"></a>00123         <span class="comment">// ParamSet Data</span>
<a name="l00124"></a><a class="code" href="classParamSet.html#217af5127d922f0a8ce62fe237ecbf47">00124</a>         vector&lt;ParamSetItem&lt;int&gt; *&gt; ints;
<a name="l00125"></a><a class="code" href="classParamSet.html#b830cd8b70cfa3e623f0ee98f8cb4693">00125</a>         vector&lt;ParamSetItem&lt;bool&gt; *&gt; bools;
<a name="l00126"></a><a class="code" href="classParamSet.html#49d7ffc2bf0ed0d999e4bad1f3a3aea2">00126</a>         vector&lt;ParamSetItem&lt;float&gt; *&gt; floats;
<a name="l00127"></a><a class="code" href="classParamSet.html#3b3b76f05a5cbef05676a47e07bdc8eb">00127</a>         vector&lt;ParamSetItem&lt;Point&gt; *&gt; points;
<a name="l00128"></a><a class="code" href="classParamSet.html#be268df0885bfc0ec543af383f01de25">00128</a>         vector&lt;ParamSetItem&lt;Vector&gt; *&gt; vectors;
<a name="l00129"></a><a class="code" href="classParamSet.html#52d776ca0e0ab9249f70956d3006b930">00129</a>         vector&lt;ParamSetItem&lt;Normal&gt; *&gt; normals;
<a name="l00130"></a><a class="code" href="classParamSet.html#e330ffd3a1efeb5309e7229e42b0da3c">00130</a>         vector&lt;ParamSetItem&lt;Spectrum&gt; *&gt; spectra;
<a name="l00131"></a><a class="code" href="classParamSet.html#a6bfe04e881421593cb47bdbbd77cc08">00131</a>         vector&lt;ParamSetItem&lt;string&gt; *&gt; strings;
<a name="l00132"></a><a class="code" href="classParamSet.html#5850b520894ee6fda1706a55a1ec4d3a">00132</a>         vector&lt;ParamSetItem&lt;string&gt; *&gt; textures;
<a name="l00133"></a>00133 };
<a name="l00134"></a><a class="code" href="structParamSetItem.html">00134</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">struct </span><a class="code" href="structParamSetItem.html">ParamSetItem</a> {
<a name="l00135"></a>00135         <span class="comment">// ParamSetItem Public Methods</span>
<a name="l00136"></a><a class="code" href="structParamSetItem.html#be68f9826fcf059bef410582adb0c79e">00136</a>         <a class="code" href="structParamSetItem.html">ParamSetItem&lt;T&gt;</a> *<a class="code" href="structParamSetItem.html#be68f9826fcf059bef410582adb0c79e">Clone</a>()<span class="keyword"> const </span>{
<a name="l00137"></a>00137                 <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="structParamSetItem.html">ParamSetItem&lt;T&gt;</a>(<a class="code" href="structParamSetItem.html#e4e80cb924f20e27a9a631ffce5200d6">name</a>, <a class="code" href="structParamSetItem.html#9e0bf0c33df59debd822b2250c1d6832">data</a>, <a class="code" href="structParamSetItem.html#73755f1c51538111a5cf1317b23712f9">nItems</a>);
<a name="l00138"></a>00138         }
<a name="l00139"></a>00139         <a class="code" href="structParamSetItem.html#f3153e86aec68f5a11c3ccd1a409a899">ParamSetItem</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;<a class="code" href="structParamSetItem.html#e4e80cb924f20e27a9a631ffce5200d6">name</a>, <span class="keyword">const</span> T *val, <span class="keywordtype">int</span> <a class="code" href="structParamSetItem.html#73755f1c51538111a5cf1317b23712f9">nItems</a> = 1);
<a name="l00140"></a><a class="code" href="structParamSetItem.html#b63bbae4c9a6239266aaf9a358c2cff3">00140</a>         <a class="code" href="structParamSetItem.html#b63bbae4c9a6239266aaf9a358c2cff3">~ParamSetItem</a>() {
<a name="l00141"></a>00141                 <span class="keyword">delete</span>[] <a class="code" href="structParamSetItem.html#9e0bf0c33df59debd822b2250c1d6832">data</a>;
<a name="l00142"></a>00142         }
<a name="l00143"></a>00143         <span class="comment">// ParamSetItem Data</span>
<a name="l00144"></a><a class="code" href="structParamSetItem.html#e4e80cb924f20e27a9a631ffce5200d6">00144</a>         <span class="keywordtype">string</span> <a class="code" href="structParamSetItem.html#e4e80cb924f20e27a9a631ffce5200d6">name</a>;
<a name="l00145"></a><a class="code" href="structParamSetItem.html#73755f1c51538111a5cf1317b23712f9">00145</a>         <span class="keywordtype">int</span> <a class="code" href="structParamSetItem.html#73755f1c51538111a5cf1317b23712f9">nItems</a>;
<a name="l00146"></a><a class="code" href="structParamSetItem.html#9e0bf0c33df59debd822b2250c1d6832">00146</a>         T *<a class="code" href="structParamSetItem.html#9e0bf0c33df59debd822b2250c1d6832">data</a>;
<a name="l00147"></a><a class="code" href="structParamSetItem.html#72ed008da232ab7094acdf8dc6cf3d53">00147</a>         <span class="keywordtype">bool</span> <a class="code" href="structParamSetItem.html#72ed008da232ab7094acdf8dc6cf3d53">lookedUp</a>;
<a name="l00148"></a>00148 };
<a name="l00149"></a>00149 <span class="comment">// ParamSetItem Methods</span>
<a name="l00150"></a>00150 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00151"></a><a class="code" href="structParamSetItem.html#f3153e86aec68f5a11c3ccd1a409a899">00151</a> <a class="code" href="structParamSetItem.html#f3153e86aec68f5a11c3ccd1a409a899">ParamSetItem&lt;T&gt;::ParamSetItem</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;n,
<a name="l00152"></a>00152                                                           <span class="keyword">const</span> T *v,
<a name="l00153"></a>00153                                                           <span class="keywordtype">int</span> ni) {
<a name="l00154"></a>00154         <a class="code" href="structParamSetItem.html#e4e80cb924f20e27a9a631ffce5200d6">name</a> = n;
<a name="l00155"></a>00155         <a class="code" href="structParamSetItem.html#73755f1c51538111a5cf1317b23712f9">nItems</a> = ni;
<a name="l00156"></a>00156         <a class="code" href="structParamSetItem.html#9e0bf0c33df59debd822b2250c1d6832">data</a> = <span class="keyword">new</span> T[<a class="code" href="structParamSetItem.html#73755f1c51538111a5cf1317b23712f9">nItems</a>];
<a name="l00157"></a>00157         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="structParamSetItem.html#73755f1c51538111a5cf1317b23712f9">nItems</a>; ++i)
<a name="l00158"></a>00158                 <a class="code" href="structParamSetItem.html#9e0bf0c33df59debd822b2250c1d6832">data</a>[i] = v[i];
<a name="l00159"></a>00159         <a class="code" href="structParamSetItem.html#72ed008da232ab7094acdf8dc6cf3d53">lookedUp</a> = <span class="keyword">false</span>;
<a name="l00160"></a>00160 }
<a name="l00161"></a>00161 <span class="comment">// TextureParams Declarations</span>
<a name="l00162"></a><a class="code" href="classTextureParams.html">00162</a> <span class="keyword">class </span><a class="code" href="pbrt_8h.html#1ca894daa11d476d9e76947dceaf0255">COREDLL</a> <a class="code" href="classTextureParams.html">TextureParams</a> {
<a name="l00163"></a>00163 <span class="keyword">public</span>:
<a name="l00164"></a>00164         <span class="comment">// TextureParams Public Methods</span>
<a name="l00165"></a><a class="code" href="classTextureParams.html#ae346167af09ebeff79b102291198d7f">00165</a>         <a class="code" href="classTextureParams.html">TextureParams</a>(<span class="keyword">const</span> <a class="code" href="classParamSet.html">ParamSet</a> &amp;geomp, <span class="keyword">const</span> <a class="code" href="classParamSet.html">ParamSet</a> &amp;matp,
<a name="l00166"></a>00166                         map&lt;<span class="keywordtype">string</span>, <a class="code" href="classReference.html">Reference</a>&lt;<a class="code" href="classTexture.html">Texture&lt;float&gt;</a> &gt; &gt; &amp;ft,
<a name="l00167"></a>00167                         map&lt;<span class="keywordtype">string</span>, <a class="code" href="classReference.html">Reference</a>&lt;<a class="code" href="classTexture.html">Texture&lt;Spectrum&gt;</a> &gt; &gt; &amp;st)
<a name="l00168"></a>00168                 : geomParams(geomp),
<a name="l00169"></a>00169                   materialParams(matp),
<a name="l00170"></a>00170                   floatTextures(ft),
<a name="l00171"></a>00171                   spectrumTextures(st) {
<a name="l00172"></a>00172         }
<a name="l00173"></a>00173         <a class="code" href="classReference.html">Reference&lt;Texture&lt;Spectrum&gt;</a> &gt; GetSpectrumTexture(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;<a class="code" href="structParamSetItem.html#e4e80cb924f20e27a9a631ffce5200d6">name</a>,
<a name="l00174"></a>00174                         <span class="keyword">const</span> <a class="code" href="classSpectrum.html">Spectrum</a> &amp;def) <span class="keyword">const</span>;
<a name="l00175"></a>00175         <a class="code" href="classReference.html">Reference&lt;Texture&lt;float&gt;</a> &gt; GetFloatTexture(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;<a class="code" href="structParamSetItem.html#e4e80cb924f20e27a9a631ffce5200d6">name</a>,
<a name="l00176"></a>00176                         <span class="keywordtype">float</span> def) <span class="keyword">const</span>;
<a name="l00177"></a><a class="code" href="classTextureParams.html#515fcaebd83191597efb444595738411">00177</a>         <span class="keywordtype">float</span> FindFloat(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;n, <span class="keywordtype">float</span> d)<span class="keyword"> const </span>{
<a name="l00178"></a>00178                 <span class="keywordflow">return</span> geomParams.FindOneFloat(n,
<a name="l00179"></a>00179                         materialParams.FindOneFloat(n, d));
<a name="l00180"></a>00180         }
<a name="l00181"></a><a class="code" href="classTextureParams.html#bdf8f09f3693e60261da0493d5e065b8">00181</a>         <span class="keywordtype">string</span> FindString(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;n)<span class="keyword"> const </span>{
<a name="l00182"></a>00182                <span class="keywordflow">return</span> geomParams.FindOneString(n, materialParams.FindOneString(n, <span class="stringliteral">""</span>));
<a name="l00183"></a>00183         }
<a name="l00184"></a><a class="code" href="classTextureParams.html#ca5ac737691fa5765644683fd147acb8">00184</a>         <span class="keywordtype">int</span> FindInt(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;n, <span class="keywordtype">int</span> d)<span class="keyword"> const </span>{
<a name="l00185"></a>00185                <span class="keywordflow">return</span> geomParams.FindOneInt(n, materialParams.FindOneInt(n, d));
<a name="l00186"></a>00186         }
<a name="l00187"></a><a class="code" href="classTextureParams.html#d2ac282cb40cefd4c4dfa87a9a73228a">00187</a>         <span class="keywordtype">bool</span> FindBool(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;n, <span class="keywordtype">bool</span> d)<span class="keyword"> const </span>{
<a name="l00188"></a>00188                <span class="keywordflow">return</span> geomParams.FindOneBool(n, materialParams.FindOneBool(n, d));
<a name="l00189"></a>00189         }
<a name="l00190"></a><a class="code" href="classTextureParams.html#cca33c851ea859ad6b985166b17c2594">00190</a>         <a class="code" href="classPoint.html">Point</a> FindPoint(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;n, <span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;d)<span class="keyword"> const </span>{
<a name="l00191"></a>00191                <span class="keywordflow">return</span> geomParams.FindOnePoint(n, materialParams.FindOnePoint(n, d));
<a name="l00192"></a>00192         }
<a name="l00193"></a><a class="code" href="classTextureParams.html#1625f430ef9f25383446562fecbb27db">00193</a>         <a class="code" href="classVector.html">Vector</a> FindVector(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;n, <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;d)<span class="keyword"> const </span>{
<a name="l00194"></a>00194                <span class="keywordflow">return</span> geomParams.FindOneVector(n, materialParams.FindOneVector(n, d));
<a name="l00195"></a>00195         }
<a name="l00196"></a><a class="code" href="classTextureParams.html#e4a801cd897a16fe131bd2113cfa1680">00196</a>         <a class="code" href="classNormal.html">Normal</a> FindNormal(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;n, <span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;d)<span class="keyword"> const </span>{
<a name="l00197"></a>00197                <span class="keywordflow">return</span> geomParams.FindOneNormal(n, materialParams.FindOneNormal(n, d));
<a name="l00198"></a>00198         }
<a name="l00199"></a><a class="code" href="classTextureParams.html#312b47244da96f4ccdde61e3c221802b">00199</a>         <a class="code" href="classSpectrum.html">Spectrum</a> FindSpectrum(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;n, <span class="keyword">const</span> <a class="code" href="classSpectrum.html">Spectrum</a> &amp;d)<span class="keyword"> const </span>{
<a name="l00200"></a>00200                <span class="keywordflow">return</span> geomParams.FindOneSpectrum(n, materialParams.FindOneSpectrum(n, d));
<a name="l00201"></a>00201         }
<a name="l00202"></a><a class="code" href="classTextureParams.html#63726733c97f960eb182c47ca6b838ee">00202</a>         <span class="keywordtype">void</span> ReportUnused()<span class="keyword"> const </span>{
<a name="l00203"></a>00203                 geomParams.ReportUnused();
<a name="l00204"></a>00204                 materialParams.ReportUnused();
<a name="l00205"></a>00205         }
<a name="l00206"></a><a class="code" href="classTextureParams.html#1558bdf8b9a152508cc35a40493c5c28">00206</a>         <span class="keyword">const</span> <a class="code" href="classParamSet.html">ParamSet</a> &amp;GetGeomParams()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> geomParams; }
<a name="l00207"></a><a class="code" href="classTextureParams.html#e17d04470ad001dbfc91ff6ea8935a80">00207</a>         <span class="keyword">const</span> <a class="code" href="classParamSet.html">ParamSet</a> &amp;GetMaterialParams()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> materialParams; }
<a name="l00208"></a>00208 <span class="keyword">private</span>:
<a name="l00209"></a>00209         <span class="comment">// TextureParams Private Data</span>
<a name="l00210"></a><a class="code" href="classTextureParams.html#0e2ce4eaa0a7af362e8fd2b7fb52374c">00210</a>         <span class="keyword">const</span> <a class="code" href="classParamSet.html">ParamSet</a> &amp;geomParams, &amp;materialParams;
<a name="l00211"></a>00211         map&lt;string,
<a name="l00212"></a><a class="code" href="classTextureParams.html#30ebf94e87e1559ec47446c83251d466">00212</a>             <a class="code" href="classReference.html">Reference&lt;Texture&lt;float&gt;</a> &gt; &gt; &amp;floatTextures;
<a name="l00213"></a>00213         map&lt;string,
<a name="l00214"></a><a class="code" href="classTextureParams.html#fc9d81420e4dff0daed1e48165dda06f">00214</a>             <a class="code" href="classReference.html">Reference&lt;Texture&lt;Spectrum&gt;</a> &gt; &gt; &amp;spectrumTextures;
<a name="l00215"></a>00215 };
<a name="l00216"></a>00216 <span class="preprocessor">#endif // PBRT_PARAMSET_H</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 20 17:31:53 2009 for pbrt by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
