<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>pbrt: geometry.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>geometry.h</h1><a href="geometry_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">/*</span>
<a name="l00003"></a>00003 <span class="comment">    pbrt source code Copyright(c) 1998-2007 Matt Pharr and Greg Humphreys.</span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="comment">    This file is part of pbrt.</span>
<a name="l00006"></a>00006 <span class="comment"></span>
<a name="l00007"></a>00007 <span class="comment">    pbrt is free software; you can redistribute it and/or modify</span>
<a name="l00008"></a>00008 <span class="comment">    it under the terms of the GNU General Public License as published by</span>
<a name="l00009"></a>00009 <span class="comment">    the Free Software Foundation; either version 2 of the License, or</span>
<a name="l00010"></a>00010 <span class="comment">    (at your option) any later version.  Note that the text contents of</span>
<a name="l00011"></a>00011 <span class="comment">    the book "Physically Based Rendering" are *not* licensed under the</span>
<a name="l00012"></a>00012 <span class="comment">    GNU GPL.</span>
<a name="l00013"></a>00013 <span class="comment"></span>
<a name="l00014"></a>00014 <span class="comment">    pbrt is distributed in the hope that it will be useful,</span>
<a name="l00015"></a>00015 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00016"></a>00016 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00017"></a>00017 <span class="comment">    GNU General Public License for more details.</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">    You should have received a copy of the GNU General Public License</span>
<a name="l00020"></a>00020 <span class="comment">    along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00021"></a>00021 <span class="comment"></span>
<a name="l00022"></a>00022 <span class="comment"> */</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="preprocessor">#ifndef PBRT_GEOMETRY_H</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">#define PBRT_GEOMETRY_H</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="comment">// geometry.h*</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include "<a class="code" href="pbrt_8h.html">pbrt.h</a>"</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;float.h&gt;</span>
<a name="l00029"></a>00029 <span class="comment">// Geometry Declarations</span>
<a name="l00030"></a><a class="code" href="classVector.html">00030</a> <span class="keyword">class </span><a class="code" href="pbrt_8h.html#1ca894daa11d476d9e76947dceaf0255">COREDLL</a> <a class="code" href="classVector.html">Vector</a> {
<a name="l00031"></a>00031 <span class="keyword">public</span>:
<a name="l00032"></a>00032         <span class="comment">// Vector Public Methods</span>
<a name="l00033"></a><a class="code" href="classVector.html#29266dba7ef23e90668aa46a26bee91e">00033</a>         <a class="code" href="classVector.html">Vector</a>(<span class="keywordtype">float</span> _x=0, <span class="keywordtype">float</span> _y=0, <span class="keywordtype">float</span> _z=0)
<a name="l00034"></a>00034                 : x(_x), y(_y), z(_z) {
<a name="l00035"></a>00035         }
<a name="l00036"></a>00036         <span class="keyword">explicit</span> <a class="code" href="classVector.html">Vector</a>(<span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p);
<a name="l00037"></a><a class="code" href="classVector.html#98369ba060b6c264b596ce30e7ad6b8d">00037</a>         <a class="code" href="classVector.html">Vector</a> operator+(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v)<span class="keyword"> const </span>{
<a name="l00038"></a>00038                 <span class="keywordflow">return</span> <a class="code" href="classVector.html">Vector</a>(x + v.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>, y + v.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>, z + v.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>);
<a name="l00039"></a>00039         }
<a name="l00040"></a>00040         
<a name="l00041"></a><a class="code" href="classVector.html#0ebbef346b37f0a6c7791ac4962103c5">00041</a>         <a class="code" href="classVector.html">Vector</a>&amp; operator+=(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v) {
<a name="l00042"></a>00042                 x += v.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>; y += v.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>; z += v.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>;
<a name="l00043"></a>00043                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00044"></a>00044         }
<a name="l00045"></a><a class="code" href="classVector.html#c7b9814871af89597bd0888d7db966de">00045</a>         <a class="code" href="classVector.html">Vector</a> operator-(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v)<span class="keyword"> const </span>{
<a name="l00046"></a>00046                 <span class="keywordflow">return</span> <a class="code" href="classVector.html">Vector</a>(x - v.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>, y - v.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>, z - v.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>);
<a name="l00047"></a>00047         }
<a name="l00048"></a>00048         
<a name="l00049"></a><a class="code" href="classVector.html#dec8bfb032fb32c97c18367d7c7eaa8a">00049</a>         <a class="code" href="classVector.html">Vector</a>&amp; operator-=(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v) {
<a name="l00050"></a>00050                 x -= v.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>; y -= v.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>; z -= v.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>;
<a name="l00051"></a>00051                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00052"></a>00052         }
<a name="l00053"></a><a class="code" href="classVector.html#fe95adbfc44a173a404039b717df35a5">00053</a>         <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v)<span class="keyword"> const </span>{
<a name="l00054"></a>00054                 <span class="keywordflow">return</span> x == v.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> &amp;&amp; y == v.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> &amp;&amp; z == v.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>;
<a name="l00055"></a>00055         }
<a name="l00056"></a><a class="code" href="classVector.html#421bc63b8063441b0e2302dc713d85d8">00056</a>         <a class="code" href="classVector.html">Vector</a> <a class="code" href="geometry_8h.html#7ca5a6f9e50644d780f6a869a8df08c5">operator*</a>(<span class="keywordtype">float</span> f)<span class="keyword"> const </span>{
<a name="l00057"></a>00057                 <span class="keywordflow">return</span> <a class="code" href="classVector.html">Vector</a>(f*x, f*y, f*z);
<a name="l00058"></a>00058         }
<a name="l00059"></a>00059         
<a name="l00060"></a><a class="code" href="classVector.html#debeef66239753c8a4fb9371f7c35213">00060</a>         <a class="code" href="classVector.html">Vector</a> &amp;operator*=(<span class="keywordtype">float</span> f) {
<a name="l00061"></a>00061                 x *= f; y *= f; z *= f;
<a name="l00062"></a>00062                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00063"></a>00063         }
<a name="l00064"></a><a class="code" href="classVector.html#5ee7901c20753355f8fda3bce0e842fe">00064</a>         <a class="code" href="classVector.html">Vector</a> operator/(<span class="keywordtype">float</span> f)<span class="keyword"> const </span>{
<a name="l00065"></a>00065                 <a class="code" href="pbrt_8h.html#ab1e54dcc40192f9704e8b252635450f">Assert</a>(f!=0);
<a name="l00066"></a>00066                 <span class="keywordtype">float</span> inv = 1.f / f;
<a name="l00067"></a>00067                 <span class="keywordflow">return</span> <a class="code" href="classVector.html">Vector</a>(x * inv, y * inv, z * inv);
<a name="l00068"></a>00068         }
<a name="l00069"></a>00069         
<a name="l00070"></a><a class="code" href="classVector.html#1e1020bfec9f4d83d33ebf2ed03e7cc1">00070</a>         <a class="code" href="classVector.html">Vector</a> &amp;operator/=(<span class="keywordtype">float</span> f) {
<a name="l00071"></a>00071                 <a class="code" href="pbrt_8h.html#ab1e54dcc40192f9704e8b252635450f">Assert</a>(f!=0);
<a name="l00072"></a>00072                 <span class="keywordtype">float</span> inv = 1.f / f;
<a name="l00073"></a>00073                 x *= inv; y *= inv; z *= inv;
<a name="l00074"></a>00074                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00075"></a>00075         }
<a name="l00076"></a><a class="code" href="classVector.html#1c38f8a4f5f6f9438e3ec8233cfaa6b0">00076</a>         <a class="code" href="classVector.html">Vector</a> operator-()<span class="keyword"> const </span>{
<a name="l00077"></a>00077                 <span class="keywordflow">return</span> <a class="code" href="classVector.html">Vector</a>(-x, -y, -z);
<a name="l00078"></a>00078         }
<a name="l00079"></a><a class="code" href="classVector.html#13031dbad160736bd043cf6675a672e5">00079</a>         <span class="keywordtype">float</span> operator[](<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{
<a name="l00080"></a>00080                 <a class="code" href="pbrt_8h.html#ab1e54dcc40192f9704e8b252635450f">Assert</a>(i &gt;= 0 &amp;&amp; i &lt;= 2);
<a name="l00081"></a>00081                 <span class="keywordflow">return</span> (&amp;x)[i];
<a name="l00082"></a>00082         }
<a name="l00083"></a>00083         
<a name="l00084"></a><a class="code" href="classVector.html#950c7b6666b92ab5b5b9af29e19067c1">00084</a>         <span class="keywordtype">float</span> &amp;operator[](<span class="keywordtype">int</span> i) {
<a name="l00085"></a>00085                 <a class="code" href="pbrt_8h.html#ab1e54dcc40192f9704e8b252635450f">Assert</a>(i &gt;= 0 &amp;&amp; i &lt;= 2);
<a name="l00086"></a>00086                 <span class="keywordflow">return</span> (&amp;x)[i];
<a name="l00087"></a>00087         }
<a name="l00088"></a><a class="code" href="classVector.html#ec3bb73ea534625c3ac821648a4b5c70">00088</a>         <span class="keywordtype">float</span> LengthSquared()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> x*x + y*y + z*z; }
<a name="l00089"></a><a class="code" href="classVector.html#e543b9efc35a284a41dea4aeca593d51">00089</a>         <span class="keywordtype">float</span> Length()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> sqrtf(LengthSquared()); }
<a name="l00090"></a>00090         <span class="keyword">explicit</span> <a class="code" href="classVector.html">Vector</a>(<span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;n);
<a name="l00091"></a>00091         <span class="comment">// Vector Public Data</span>
<a name="l00092"></a><a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">00092</a>         <span class="keywordtype">float</span> x, y, z;
<a name="l00093"></a>00093 };
<a name="l00094"></a><a class="code" href="classPoint.html">00094</a> <span class="keyword">class </span><a class="code" href="pbrt_8h.html#1ca894daa11d476d9e76947dceaf0255">COREDLL</a> <a class="code" href="classPoint.html">Point</a> {
<a name="l00095"></a>00095 <span class="keyword">public</span>:
<a name="l00096"></a>00096         <span class="comment">// Point Methods</span>
<a name="l00097"></a><a class="code" href="classPoint.html#04ee91c3f07daef767eb9aa04b88c9f6">00097</a>         <a class="code" href="classPoint.html">Point</a>(<span class="keywordtype">float</span> _x=0, <span class="keywordtype">float</span> _y=0, <span class="keywordtype">float</span> _z=0)
<a name="l00098"></a>00098                 : x(_x), y(_y), z(_z) {
<a name="l00099"></a>00099         }
<a name="l00100"></a><a class="code" href="classPoint.html#2478177c3fa0f1412b3b3826223952bb">00100</a>         <a class="code" href="classPoint.html">Point</a> operator+(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v)<span class="keyword"> const </span>{
<a name="l00101"></a>00101                 <span class="keywordflow">return</span> <a class="code" href="classPoint.html">Point</a>(x + v.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>, y + v.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>, z + v.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>);
<a name="l00102"></a>00102         }
<a name="l00103"></a>00103         
<a name="l00104"></a><a class="code" href="classPoint.html#f54f880a6d501e7574f8b21c6194d83d">00104</a>         <a class="code" href="classPoint.html">Point</a> &amp;operator+=(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v) {
<a name="l00105"></a>00105                 x += v.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>; y += v.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>; z += v.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>;
<a name="l00106"></a>00106                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00107"></a>00107         }
<a name="l00108"></a><a class="code" href="classPoint.html#643c93919b2cc15cd921cf796a0ff316">00108</a>         <a class="code" href="classVector.html">Vector</a> operator-(<span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p)<span class="keyword"> const </span>{
<a name="l00109"></a>00109                 <span class="keywordflow">return</span> <a class="code" href="classVector.html">Vector</a>(x - p.<a class="code" href="classPoint.html#05dfe2dfbde813ad234b514f30e662f1">x</a>, y - p.<a class="code" href="classPoint.html#6101960c8d2d4e8ea1d32c9234bbeb8d">y</a>, z - p.<a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">z</a>);
<a name="l00110"></a>00110         }
<a name="l00111"></a>00111         
<a name="l00112"></a><a class="code" href="classPoint.html#fcfb0eb56c82a2a4cefed9d823b5ee10">00112</a>         <a class="code" href="classPoint.html">Point</a> operator-(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v)<span class="keyword"> const </span>{
<a name="l00113"></a>00113                 <span class="keywordflow">return</span> <a class="code" href="classPoint.html">Point</a>(x - v.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>, y - v.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>, z - v.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>);
<a name="l00114"></a>00114         }
<a name="l00115"></a>00115         
<a name="l00116"></a><a class="code" href="classPoint.html#6dcc53475bb822c7b3614fd454623d02">00116</a>         <a class="code" href="classPoint.html">Point</a> &amp;operator-=(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v) {
<a name="l00117"></a>00117                 x -= v.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>; y -= v.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>; z -= v.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>;
<a name="l00118"></a>00118                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00119"></a>00119         }
<a name="l00120"></a><a class="code" href="classPoint.html#39e9fcbe976c10685aee99ed4ed48b96">00120</a>         <a class="code" href="classPoint.html">Point</a> &amp;operator+=(<span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p) {
<a name="l00121"></a>00121                 x += p.<a class="code" href="classPoint.html#05dfe2dfbde813ad234b514f30e662f1">x</a>; y += p.<a class="code" href="classPoint.html#6101960c8d2d4e8ea1d32c9234bbeb8d">y</a>; z += p.<a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">z</a>;
<a name="l00122"></a>00122                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00123"></a>00123         }
<a name="l00124"></a><a class="code" href="classPoint.html#78421c6bc6fe671fa5ee80e99c0b7284">00124</a>         <a class="code" href="classPoint.html">Point</a> operator+(<span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p)<span class="keyword"> const </span>{
<a name="l00125"></a>00125                 <span class="keywordflow">return</span> <a class="code" href="classPoint.html">Point</a>(x + p.<a class="code" href="classPoint.html#05dfe2dfbde813ad234b514f30e662f1">x</a>, y + p.<a class="code" href="classPoint.html#6101960c8d2d4e8ea1d32c9234bbeb8d">y</a>, z + p.<a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">z</a>);
<a name="l00126"></a>00126         }
<a name="l00127"></a><a class="code" href="classPoint.html#5b10c7961b81434370f3cdde714e6122">00127</a>         <a class="code" href="classPoint.html">Point</a> <a class="code" href="geometry_8h.html#7ca5a6f9e50644d780f6a869a8df08c5">operator* </a>(<span class="keywordtype">float</span> f)<span class="keyword"> const </span>{
<a name="l00128"></a>00128                 <span class="keywordflow">return</span> <a class="code" href="classPoint.html">Point</a>(f*x, f*y, f*z);
<a name="l00129"></a>00129         }
<a name="l00130"></a><a class="code" href="classPoint.html#1f4f7a5929953d0ea6ac90039aedabd0">00130</a>         <a class="code" href="classPoint.html">Point</a> &amp;operator*=(<span class="keywordtype">float</span> f) {
<a name="l00131"></a>00131                 x *= f; y *= f; z *= f;
<a name="l00132"></a>00132                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00133"></a>00133         }
<a name="l00134"></a><a class="code" href="classPoint.html#8cfbbb27c11b54ab04b5868e20e106b1">00134</a>         <a class="code" href="classPoint.html">Point</a> operator/ (<span class="keywordtype">float</span> f)<span class="keyword"> const </span>{
<a name="l00135"></a>00135                 <span class="keywordtype">float</span> inv = 1.f/f;
<a name="l00136"></a>00136                 <span class="keywordflow">return</span> <a class="code" href="classPoint.html">Point</a>(inv*x, inv*y, inv*z);
<a name="l00137"></a>00137         }
<a name="l00138"></a><a class="code" href="classPoint.html#71a605b9d4866bfa6b5c24108799b908">00138</a>         <a class="code" href="classPoint.html">Point</a> &amp;operator/=(<span class="keywordtype">float</span> f) {
<a name="l00139"></a>00139                 <span class="keywordtype">float</span> inv = 1.f/f;
<a name="l00140"></a>00140                 x *= inv; y *= inv; z *= inv;
<a name="l00141"></a>00141                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00142"></a>00142         }
<a name="l00143"></a><a class="code" href="classPoint.html#6ff32c94c651ec45d1c5bd3997758596">00143</a>         <span class="keywordtype">float</span> operator[](<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (&amp;x)[i]; }
<a name="l00144"></a><a class="code" href="classPoint.html#69fc5d5c9bce1958e4cfbd9c03c2464c">00144</a>         <span class="keywordtype">float</span> &amp;operator[](<span class="keywordtype">int</span> i) { <span class="keywordflow">return</span> (&amp;x)[i]; }
<a name="l00145"></a>00145         <span class="comment">// Point Public Data</span>
<a name="l00146"></a><a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">00146</a>         <span class="keywordtype">float</span> x,y,z;
<a name="l00147"></a>00147 };
<a name="l00148"></a><a class="code" href="classNormal.html">00148</a> <span class="keyword">class </span><a class="code" href="pbrt_8h.html#1ca894daa11d476d9e76947dceaf0255">COREDLL</a> <a class="code" href="classNormal.html">Normal</a> {
<a name="l00149"></a>00149 <span class="keyword">public</span>:
<a name="l00150"></a>00150         <span class="comment">// Normal Methods</span>
<a name="l00151"></a><a class="code" href="classNormal.html#e3336208cca26d9d382e618803d680d4">00151</a>         <a class="code" href="classNormal.html">Normal</a>(<span class="keywordtype">float</span> _x=0, <span class="keywordtype">float</span> _y=0, <span class="keywordtype">float</span> _z=0)
<a name="l00152"></a>00152                 : x(_x), y(_y), z(_z) {}
<a name="l00153"></a><a class="code" href="classNormal.html#f8fa59a4aa3d4a68a362b1f97302371d">00153</a>         <a class="code" href="classNormal.html">Normal</a> operator-()<span class="keyword"> const </span>{
<a name="l00154"></a>00154                 <span class="keywordflow">return</span> <a class="code" href="classNormal.html">Normal</a>(-x, -y, -z);
<a name="l00155"></a>00155         }
<a name="l00156"></a><a class="code" href="classNormal.html#24296e70adc8c5b9d441cd3538e8f372">00156</a>         <a class="code" href="classNormal.html">Normal</a> operator+ (<span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;v)<span class="keyword"> const </span>{
<a name="l00157"></a>00157                 <span class="keywordflow">return</span> <a class="code" href="classNormal.html">Normal</a>(x + v.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a>, y + v.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a>, z + v.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a>);
<a name="l00158"></a>00158         }
<a name="l00159"></a>00159         
<a name="l00160"></a><a class="code" href="classNormal.html#32204834db69f71be7c2ec1da2057b72">00160</a>         <a class="code" href="classNormal.html">Normal</a>&amp; operator+=(<span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;v) {
<a name="l00161"></a>00161                 x += v.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a>; y += v.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a>; z += v.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a>;
<a name="l00162"></a>00162                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00163"></a>00163         }
<a name="l00164"></a><a class="code" href="classNormal.html#72ee3f613823b09d376c09b094972d0d">00164</a>         <a class="code" href="classNormal.html">Normal</a> operator- (<span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;v)<span class="keyword"> const </span>{
<a name="l00165"></a>00165                 <span class="keywordflow">return</span> <a class="code" href="classNormal.html">Normal</a>(x - v.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a>, y - v.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a>, z - v.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a>);
<a name="l00166"></a>00166         }
<a name="l00167"></a>00167         
<a name="l00168"></a><a class="code" href="classNormal.html#5e6585fa7975cf9dc1ba1d6d649e526d">00168</a>         <a class="code" href="classNormal.html">Normal</a>&amp; operator-=(<span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;v) {
<a name="l00169"></a>00169                 x -= v.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a>; y -= v.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a>; z -= v.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a>;
<a name="l00170"></a>00170                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00171"></a>00171         }
<a name="l00172"></a><a class="code" href="classNormal.html#bc88386f88e238305aa9ed03bac13348">00172</a>         <a class="code" href="classNormal.html">Normal</a> <a class="code" href="geometry_8h.html#7ca5a6f9e50644d780f6a869a8df08c5">operator* </a>(<span class="keywordtype">float</span> f)<span class="keyword"> const </span>{
<a name="l00173"></a>00173                 <span class="keywordflow">return</span> <a class="code" href="classNormal.html">Normal</a>(f*x, f*y, f*z);
<a name="l00174"></a>00174         }
<a name="l00175"></a>00175         
<a name="l00176"></a><a class="code" href="classNormal.html#989bc39f916d6b5cf3b9a94282a92268">00176</a>         <a class="code" href="classNormal.html">Normal</a> &amp;operator*=(<span class="keywordtype">float</span> f) {
<a name="l00177"></a>00177                 x *= f; y *= f; z *= f;
<a name="l00178"></a>00178                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00179"></a>00179         }
<a name="l00180"></a><a class="code" href="classNormal.html#442ac7d408e065b5b67146d8c7398088">00180</a>         <a class="code" href="classNormal.html">Normal</a> operator/ (<span class="keywordtype">float</span> f)<span class="keyword"> const </span>{
<a name="l00181"></a>00181                 <span class="keywordtype">float</span> inv = 1.f/f;
<a name="l00182"></a>00182                 <span class="keywordflow">return</span> <a class="code" href="classNormal.html">Normal</a>(x * inv, y * inv, z * inv);
<a name="l00183"></a>00183         }
<a name="l00184"></a>00184         
<a name="l00185"></a><a class="code" href="classNormal.html#f93556af8b34a02596394a8e39b80af9">00185</a>         <a class="code" href="classNormal.html">Normal</a> &amp;operator/=(<span class="keywordtype">float</span> f) {
<a name="l00186"></a>00186                 <span class="keywordtype">float</span> inv = 1.f/f;
<a name="l00187"></a>00187                 x *= inv; y *= inv; z *= inv;
<a name="l00188"></a>00188                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00189"></a>00189         }
<a name="l00190"></a><a class="code" href="classNormal.html#2224babb6da68744b108812896d2a917">00190</a>         <span class="keywordtype">float</span> LengthSquared()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> x*x + y*y + z*z; }
<a name="l00191"></a><a class="code" href="classNormal.html#fa3de29fd16295544b856b3cf529812d">00191</a>         <span class="keywordtype">float</span> Length()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> sqrtf(LengthSquared()); }
<a name="l00192"></a>00192         
<a name="l00193"></a><a class="code" href="classNormal.html#125521f868d04173240c4dcdc1be24a8">00193</a>         <span class="keyword">explicit</span> <a class="code" href="classNormal.html">Normal</a>(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v)
<a name="l00194"></a>00194           : x(v.x), y(v.y), z(v.z) {}
<a name="l00195"></a><a class="code" href="classNormal.html#308c8a5ce4175f3fbb957b2949454337">00195</a>         <span class="keywordtype">float</span> operator[](<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (&amp;x)[i]; }
<a name="l00196"></a><a class="code" href="classNormal.html#44cdd9899270a24f232fd80a758c2e5d">00196</a>         <span class="keywordtype">float</span> &amp;operator[](<span class="keywordtype">int</span> i) { <span class="keywordflow">return</span> (&amp;x)[i]; }
<a name="l00197"></a>00197         <span class="comment">// Normal Public Data</span>
<a name="l00198"></a><a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">00198</a>         <span class="keywordtype">float</span> x,y,z;
<a name="l00199"></a>00199 };
<a name="l00200"></a><a class="code" href="classRay.html">00200</a> <span class="keyword">class </span><a class="code" href="pbrt_8h.html#1ca894daa11d476d9e76947dceaf0255">COREDLL</a> <a class="code" href="classRay.html">Ray</a> {
<a name="l00201"></a>00201 <span class="keyword">public</span>:
<a name="l00202"></a>00202         <span class="comment">// Ray Public Methods</span>
<a name="l00203"></a><a class="code" href="classRay.html#2e3d2c29f2df4ab3da10da79d4acb852">00203</a>         <a class="code" href="classRay.html">Ray</a>(): mint(<a class="code" href="pbrt_8h.html#7507e14449e57d80d946ee4509de1b3b">RAY_EPSILON</a>), maxt(<a class="code" href="pbrt_8h.html#956e2723d559858d08644ac99146e910">INFINITY</a>), time(0.f) {}
<a name="l00204"></a><a class="code" href="classRay.html#8effaad48e886d42bc456f95de99e6a8">00204</a>         <a class="code" href="classRay.html">Ray</a>(<span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;origin, <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;direction,
<a name="l00205"></a>00205                 <span class="keywordtype">float</span> start = <a class="code" href="pbrt_8h.html#7507e14449e57d80d946ee4509de1b3b">RAY_EPSILON</a>, <span class="keywordtype">float</span> end = <a class="code" href="pbrt_8h.html#956e2723d559858d08644ac99146e910">INFINITY</a>, <span class="keywordtype">float</span> t = 0.f)
<a name="l00206"></a>00206                 : o(origin), d(direction), mint(start), maxt(end), time(t) { }
<a name="l00207"></a><a class="code" href="classRay.html#6ca39a6b8e281bd19638d1b0192dad3e">00207</a>         <a class="code" href="classPoint.html">Point</a> operator()(<span class="keywordtype">float</span> t)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> o + d * t; }
<a name="l00208"></a>00208         <span class="comment">// Ray Public Data</span>
<a name="l00209"></a><a class="code" href="classRay.html#1014d000992e8ac3b92f150ad2a5cffe">00209</a>         <a class="code" href="classPoint.html">Point</a> o;
<a name="l00210"></a><a class="code" href="classRay.html#5bbfc94e178e0a050b51200acc579069">00210</a>         <a class="code" href="classVector.html">Vector</a> d;
<a name="l00211"></a><a class="code" href="classRay.html#ded3b6e00c215611ebd61a6965560ba0">00211</a>         <span class="keyword">mutable</span> <span class="keywordtype">float</span> mint, maxt;
<a name="l00212"></a><a class="code" href="classRay.html#d118ddeccab760f91f74d8c01f6f545e">00212</a>         <span class="keywordtype">float</span> time;
<a name="l00213"></a>00213 };
<a name="l00214"></a><a class="code" href="classRayDifferential.html">00214</a> <span class="keyword">class </span><a class="code" href="pbrt_8h.html#1ca894daa11d476d9e76947dceaf0255">COREDLL</a> <a class="code" href="classRayDifferential.html">RayDifferential</a> : <span class="keyword">public</span> <a class="code" href="classRay.html">Ray</a> {
<a name="l00215"></a>00215 <span class="keyword">public</span>:
<a name="l00216"></a>00216         <span class="comment">// RayDifferential Methods</span>
<a name="l00217"></a><a class="code" href="classRayDifferential.html#0b809f068185899f9cf00d9a41c28634">00217</a>         <a class="code" href="classRayDifferential.html">RayDifferential</a>() { hasDifferentials = <span class="keyword">false</span>; }
<a name="l00218"></a><a class="code" href="classRayDifferential.html#39b4ffc12421e5b9bb4b85676042a38f">00218</a>         <a class="code" href="classRayDifferential.html">RayDifferential</a>(<span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;org, <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;dir)
<a name="l00219"></a>00219                         : <a class="code" href="classRay.html">Ray</a>(org, dir) {
<a name="l00220"></a>00220                 hasDifferentials = <span class="keyword">false</span>;
<a name="l00221"></a>00221         }
<a name="l00222"></a><a class="code" href="classRayDifferential.html#c6f8490ab3ea36ba6e1ff06d4ca64313">00222</a>         <span class="keyword">explicit</span> <a class="code" href="classRayDifferential.html">RayDifferential</a>(<span class="keyword">const</span> <a class="code" href="classRay.html">Ray</a> &amp;ray) : <a class="code" href="classRay.html">Ray</a>(ray) {
<a name="l00223"></a>00223                 hasDifferentials = <span class="keyword">false</span>;
<a name="l00224"></a>00224         }
<a name="l00225"></a>00225         <span class="comment">// RayDifferential Public Data</span>
<a name="l00226"></a><a class="code" href="classRayDifferential.html#87b02390087bc229067e219becef4889">00226</a>         <span class="keywordtype">bool</span> hasDifferentials;
<a name="l00227"></a><a class="code" href="classRayDifferential.html#a6ab98cac3bffedb13f3c74f0e13f3b4">00227</a>         <a class="code" href="classRay.html">Ray</a> rx, ry;
<a name="l00228"></a>00228 };
<a name="l00229"></a><a class="code" href="classBBox.html">00229</a> <span class="keyword">class </span><a class="code" href="pbrt_8h.html#1ca894daa11d476d9e76947dceaf0255">COREDLL</a> <a class="code" href="classBBox.html">BBox</a> {
<a name="l00230"></a>00230 <span class="keyword">public</span>:
<a name="l00231"></a>00231         <span class="comment">// BBox Public Methods</span>
<a name="l00232"></a><a class="code" href="classBBox.html#e26e694ee88779b928e8d3726f8213a1">00232</a>         <a class="code" href="classBBox.html">BBox</a>() {
<a name="l00233"></a>00233                 pMin = <a class="code" href="classPoint.html">Point</a>( <a class="code" href="pbrt_8h.html#956e2723d559858d08644ac99146e910">INFINITY</a>,  <a class="code" href="pbrt_8h.html#956e2723d559858d08644ac99146e910">INFINITY</a>,  <a class="code" href="pbrt_8h.html#956e2723d559858d08644ac99146e910">INFINITY</a>);
<a name="l00234"></a>00234                 pMax = <a class="code" href="classPoint.html">Point</a>(-<a class="code" href="pbrt_8h.html#956e2723d559858d08644ac99146e910">INFINITY</a>, -<a class="code" href="pbrt_8h.html#956e2723d559858d08644ac99146e910">INFINITY</a>, -<a class="code" href="pbrt_8h.html#956e2723d559858d08644ac99146e910">INFINITY</a>);
<a name="l00235"></a>00235         }
<a name="l00236"></a><a class="code" href="classBBox.html#113f735fdb25bfb94d4f9b1cfaf8298a">00236</a>         <a class="code" href="classBBox.html">BBox</a>(<span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p) : pMin(p), pMax(p) { }
<a name="l00237"></a><a class="code" href="classBBox.html#d6674042b773e35f7100bed023dcc64c">00237</a>         <a class="code" href="classBBox.html">BBox</a>(<span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p1, <span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p2) {
<a name="l00238"></a>00238                 pMin = <a class="code" href="classPoint.html">Point</a>(min(p1.<a class="code" href="classPoint.html#05dfe2dfbde813ad234b514f30e662f1">x</a>, p2.<a class="code" href="classPoint.html#05dfe2dfbde813ad234b514f30e662f1">x</a>),
<a name="l00239"></a>00239                                          min(p1.<a class="code" href="classPoint.html#6101960c8d2d4e8ea1d32c9234bbeb8d">y</a>, p2.<a class="code" href="classPoint.html#6101960c8d2d4e8ea1d32c9234bbeb8d">y</a>),
<a name="l00240"></a>00240                                          min(p1.<a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">z</a>, p2.<a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">z</a>));
<a name="l00241"></a>00241                 pMax = <a class="code" href="classPoint.html">Point</a>(max(p1.<a class="code" href="classPoint.html#05dfe2dfbde813ad234b514f30e662f1">x</a>, p2.<a class="code" href="classPoint.html#05dfe2dfbde813ad234b514f30e662f1">x</a>),
<a name="l00242"></a>00242                                          max(p1.<a class="code" href="classPoint.html#6101960c8d2d4e8ea1d32c9234bbeb8d">y</a>, p2.<a class="code" href="classPoint.html#6101960c8d2d4e8ea1d32c9234bbeb8d">y</a>),
<a name="l00243"></a>00243                                          max(p1.<a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">z</a>, p2.<a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">z</a>));
<a name="l00244"></a>00244         }
<a name="l00245"></a>00245         <span class="keyword">friend</span> <span class="keyword">inline</span> ostream &amp;
<a name="l00246"></a>00246                 <a class="code" href="color_8cpp.html#3b3bb63dabe75a974aab091b1d698db1">operator&lt;&lt;</a>(ostream &amp;os, <span class="keyword">const</span> <a class="code" href="classBBox.html">BBox</a> &amp;b);
<a name="l00247"></a>00247         <span class="keyword">friend</span> <a class="code" href="pbrt_8h.html#1ca894daa11d476d9e76947dceaf0255">COREDLL</a> <a class="code" href="classBBox.html">BBox</a> <a class="code" href="geometry_8cpp.html#b6b355a05ae9130aceaa5ed34f3eb75b">Union</a>(<span class="keyword">const</span> <a class="code" href="classBBox.html">BBox</a> &amp;b, <span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p);
<a name="l00248"></a>00248         <span class="keyword">friend</span> <a class="code" href="pbrt_8h.html#1ca894daa11d476d9e76947dceaf0255">COREDLL</a> <a class="code" href="classBBox.html">BBox</a> <a class="code" href="geometry_8cpp.html#b6b355a05ae9130aceaa5ed34f3eb75b">Union</a>(<span class="keyword">const</span> <a class="code" href="classBBox.html">BBox</a> &amp;b, <span class="keyword">const</span> <a class="code" href="classBBox.html">BBox</a> &amp;b2);
<a name="l00249"></a><a class="code" href="classBBox.html#3871d6d4502fbcf324eac1854569d829">00249</a>         <span class="keywordtype">bool</span> Overlaps(<span class="keyword">const</span> <a class="code" href="classBBox.html">BBox</a> &amp;b)<span class="keyword"> const </span>{
<a name="l00250"></a>00250                 <span class="keywordtype">bool</span> x = (pMax.x &gt;= b.<a class="code" href="classBBox.html#6efc252ac04a7236369d0ebdc11dab4c">pMin</a>.<a class="code" href="classPoint.html#05dfe2dfbde813ad234b514f30e662f1">x</a>) &amp;&amp; (pMin.x &lt;= b.<a class="code" href="classBBox.html#144894960e2a634983f4d579d7cfc02e">pMax</a>.<a class="code" href="classPoint.html#05dfe2dfbde813ad234b514f30e662f1">x</a>);
<a name="l00251"></a>00251                 <span class="keywordtype">bool</span> y = (pMax.y &gt;= b.<a class="code" href="classBBox.html#6efc252ac04a7236369d0ebdc11dab4c">pMin</a>.<a class="code" href="classPoint.html#6101960c8d2d4e8ea1d32c9234bbeb8d">y</a>) &amp;&amp; (pMin.y &lt;= b.<a class="code" href="classBBox.html#144894960e2a634983f4d579d7cfc02e">pMax</a>.<a class="code" href="classPoint.html#6101960c8d2d4e8ea1d32c9234bbeb8d">y</a>);
<a name="l00252"></a>00252                 <span class="keywordtype">bool</span> z = (pMax.z &gt;= b.<a class="code" href="classBBox.html#6efc252ac04a7236369d0ebdc11dab4c">pMin</a>.<a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">z</a>) &amp;&amp; (pMin.z &lt;= b.<a class="code" href="classBBox.html#144894960e2a634983f4d579d7cfc02e">pMax</a>.<a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">z</a>);
<a name="l00253"></a>00253                 <span class="keywordflow">return</span> (x &amp;&amp; y &amp;&amp; z);
<a name="l00254"></a>00254         }
<a name="l00255"></a><a class="code" href="classBBox.html#8b4dfd27f77b865f18ae052155614576">00255</a>         <span class="keywordtype">bool</span> Inside(<span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;pt)<span class="keyword"> const </span>{
<a name="l00256"></a>00256                 <span class="keywordflow">return</span> (pt.<a class="code" href="classPoint.html#05dfe2dfbde813ad234b514f30e662f1">x</a> &gt;= pMin.x &amp;&amp; pt.<a class="code" href="classPoint.html#05dfe2dfbde813ad234b514f30e662f1">x</a> &lt;= pMax.x &amp;&amp;
<a name="l00257"></a>00257                     pt.<a class="code" href="classPoint.html#6101960c8d2d4e8ea1d32c9234bbeb8d">y</a> &gt;= pMin.y &amp;&amp; pt.<a class="code" href="classPoint.html#6101960c8d2d4e8ea1d32c9234bbeb8d">y</a> &lt;= pMax.y &amp;&amp;
<a name="l00258"></a>00258                     pt.<a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">z</a> &gt;= pMin.z &amp;&amp; pt.<a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">z</a> &lt;= pMax.z);
<a name="l00259"></a>00259         }
<a name="l00260"></a><a class="code" href="classBBox.html#f772926d76b322178ab0ab110aae9a49">00260</a>         <span class="keywordtype">void</span> Expand(<span class="keywordtype">float</span> delta) {
<a name="l00261"></a>00261                 pMin -= <a class="code" href="classVector.html">Vector</a>(delta, delta, delta);
<a name="l00262"></a>00262                 pMax += <a class="code" href="classVector.html">Vector</a>(delta, delta, delta);
<a name="l00263"></a>00263         }
<a name="l00264"></a><a class="code" href="classBBox.html#24179812b0347f8916af39f5d8193968">00264</a>         <span class="keywordtype">float</span> Volume()<span class="keyword"> const </span>{
<a name="l00265"></a>00265                 <a class="code" href="classVector.html">Vector</a> d = pMax - pMin;
<a name="l00266"></a>00266                 <span class="keywordflow">return</span> d.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> * d.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> * d.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>;
<a name="l00267"></a>00267         }
<a name="l00268"></a><a class="code" href="classBBox.html#931f5dfd5895539312a00a6ae8f01d2a">00268</a>         <span class="keywordtype">int</span> MaximumExtent()<span class="keyword"> const </span>{
<a name="l00269"></a>00269                 <a class="code" href="classVector.html">Vector</a> diag = pMax - pMin;
<a name="l00270"></a>00270                 <span class="keywordflow">if</span> (diag.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> &gt; diag.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> &amp;&amp; diag.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> &gt; diag.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>)
<a name="l00271"></a>00271                         <span class="keywordflow">return</span> 0;
<a name="l00272"></a>00272                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (diag.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> &gt; diag.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>)
<a name="l00273"></a>00273                         <span class="keywordflow">return</span> 1;
<a name="l00274"></a>00274                 <span class="keywordflow">else</span>
<a name="l00275"></a>00275                         <span class="keywordflow">return</span> 2;
<a name="l00276"></a>00276         }
<a name="l00277"></a>00277         <span class="keywordtype">void</span> BoundingSphere(<a class="code" href="classPoint.html">Point</a> *c, <span class="keywordtype">float</span> *rad) <span class="keyword">const</span>;
<a name="l00278"></a>00278         <span class="keywordtype">bool</span> IntersectP(<span class="keyword">const</span> <a class="code" href="classRay.html">Ray</a> &amp;ray,
<a name="l00279"></a>00279                         <span class="keywordtype">float</span> *hitt0 = NULL,
<a name="l00280"></a>00280                                         <span class="keywordtype">float</span> *hitt1 = NULL) <span class="keyword">const</span>;
<a name="l00281"></a>00281         <span class="comment">// BBox Public Data</span>
<a name="l00282"></a><a class="code" href="classBBox.html#6efc252ac04a7236369d0ebdc11dab4c">00282</a>         <a class="code" href="classPoint.html">Point</a> pMin, pMax;
<a name="l00283"></a>00283 };
<a name="l00284"></a>00284 <span class="comment">// Geometry Inline Functions</span>
<a name="l00285"></a><a class="code" href="classVector.html#f14e6c6e1628407e0b87d5864efbf5e3">00285</a> <span class="keyword">inline</span> <a class="code" href="classVector.html#29266dba7ef23e90668aa46a26bee91e">Vector::Vector</a>(<span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p)
<a name="l00286"></a>00286         : x(p.x), y(p.y), z(p.z) {
<a name="l00287"></a>00287 }
<a name="l00288"></a><a class="code" href="geometry_8h.html#1fe9391d04b1ba4c4de8d8cf2621e1ea">00288</a> <span class="keyword">inline</span> ostream &amp;<a class="code" href="color_8cpp.html#3b3bb63dabe75a974aab091b1d698db1">operator&lt;&lt;</a>(ostream &amp;os, <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v) {
<a name="l00289"></a>00289         os &lt;&lt; v.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> &lt;&lt; <span class="stringliteral">", "</span> &lt;&lt; v.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> &lt;&lt; <span class="stringliteral">", "</span> &lt;&lt; v.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>;
<a name="l00290"></a>00290         <span class="keywordflow">return</span> os;
<a name="l00291"></a>00291 }
<a name="l00292"></a><a class="code" href="geometry_8h.html#7ca5a6f9e50644d780f6a869a8df08c5">00292</a> <span class="keyword">inline</span> <a class="code" href="classVector.html">Vector</a> <a class="code" href="classVector.html#421bc63b8063441b0e2302dc713d85d8">operator*</a>(<span class="keywordtype">float</span> f, <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v) {
<a name="l00293"></a>00293         <span class="keywordflow">return</span> v*f;
<a name="l00294"></a>00294 }
<a name="l00295"></a><a class="code" href="geometry_8h.html#ad0d36688d190693f70a5c9ef9342914">00295</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="geometry_8h.html#ad0d36688d190693f70a5c9ef9342914">Dot</a>(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v1, <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v2) {
<a name="l00296"></a>00296         <span class="keywordflow">return</span> v1.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> * v2.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> + v1.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> * v2.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> + v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a> * v2.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>;
<a name="l00297"></a>00297 }
<a name="l00298"></a><a class="code" href="geometry_8h.html#0c07ebf9b1454b90d6646a2f89065bb3">00298</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="geometry_8h.html#0c07ebf9b1454b90d6646a2f89065bb3">AbsDot</a>(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v1, <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v2) {
<a name="l00299"></a>00299         <span class="keywordflow">return</span> fabsf(<a class="code" href="geometry_8h.html#ad0d36688d190693f70a5c9ef9342914">Dot</a>(v1, v2));
<a name="l00300"></a>00300 }
<a name="l00301"></a><a class="code" href="geometry_8h.html#340d6d877ba46443c9ad20e7c0d0668f">00301</a> <span class="keyword">inline</span> <a class="code" href="classVector.html">Vector</a> <a class="code" href="geometry_8h.html#340d6d877ba46443c9ad20e7c0d0668f">Cross</a>(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v1, <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v2) {
<a name="l00302"></a>00302         <span class="keywordflow">return</span> <a class="code" href="classVector.html#29266dba7ef23e90668aa46a26bee91e">Vector</a>((v1.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> * v2.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>) - (v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a> * v2.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>),
<a name="l00303"></a>00303                   (v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a> * v2.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>) - (v1.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> * v2.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>),
<a name="l00304"></a>00304                   (v1.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> * v2.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>) - (v1.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> * v2.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>));
<a name="l00305"></a>00305 }
<a name="l00306"></a><a class="code" href="geometry_8h.html#954045ab0b4107de9c1d1c81c1d4bf50">00306</a> <span class="keyword">inline</span> <a class="code" href="classVector.html">Vector</a> <a class="code" href="geometry_8h.html#340d6d877ba46443c9ad20e7c0d0668f">Cross</a>(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v1, <span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;v2) {
<a name="l00307"></a>00307         <span class="keywordflow">return</span> <a class="code" href="classVector.html#29266dba7ef23e90668aa46a26bee91e">Vector</a>((v1.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> * v2.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a>) - (v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a> * v2.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a>),
<a name="l00308"></a>00308                   (v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a> * v2.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a>) - (v1.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> * v2.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a>),
<a name="l00309"></a>00309                   (v1.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> * v2.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a>) - (v1.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> * v2.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a>));
<a name="l00310"></a>00310 }
<a name="l00311"></a><a class="code" href="geometry_8h.html#4a9fb22274997f7913636a136fcb5467">00311</a> <span class="keyword">inline</span> <a class="code" href="classVector.html">Vector</a> <a class="code" href="geometry_8h.html#340d6d877ba46443c9ad20e7c0d0668f">Cross</a>(<span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;v1, <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v2) {
<a name="l00312"></a>00312         <span class="keywordflow">return</span> <a class="code" href="classVector.html#29266dba7ef23e90668aa46a26bee91e">Vector</a>((v1.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a> * v2.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>) - (v1.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a> * v2.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>),
<a name="l00313"></a>00313                   (v1.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a> * v2.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>) - (v1.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a> * v2.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>),
<a name="l00314"></a>00314                   (v1.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a> * v2.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>) - (v1.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a> * v2.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>));
<a name="l00315"></a>00315 }
<a name="l00316"></a><a class="code" href="geometry_8h.html#46448bfa3df1c2de5e3b763f163866a4">00316</a> <span class="keyword">inline</span> <a class="code" href="classVector.html">Vector</a> <a class="code" href="geometry_8h.html#46448bfa3df1c2de5e3b763f163866a4">Normalize</a>(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v) {
<a name="l00317"></a>00317         <span class="keywordflow">return</span> v / v.<a class="code" href="classVector.html#e543b9efc35a284a41dea4aeca593d51">Length</a>();
<a name="l00318"></a>00318 }
<a name="l00319"></a><a class="code" href="geometry_8h.html#031e7585a4def8a8496acb37db87adca">00319</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="geometry_8h.html#031e7585a4def8a8496acb37db87adca">CoordinateSystem</a>(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v1, <a class="code" href="classVector.html">Vector</a> *v2, <a class="code" href="classVector.html">Vector</a> *v3) {
<a name="l00320"></a>00320         <span class="keywordflow">if</span> (fabsf(v1.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>) &gt; fabsf(v1.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>)) {
<a name="l00321"></a>00321                 <span class="keywordtype">float</span> invLen = 1.f / sqrtf(v1.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>*v1.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> + v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>*v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>);
<a name="l00322"></a>00322                 *v2 = <a class="code" href="classVector.html#29266dba7ef23e90668aa46a26bee91e">Vector</a>(-v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a> * invLen, 0.f, v1.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> * invLen);
<a name="l00323"></a>00323         }
<a name="l00324"></a>00324         <span class="keywordflow">else</span> {
<a name="l00325"></a>00325                 <span class="keywordtype">float</span> invLen = 1.f / sqrtf(v1.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>*v1.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> + v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>*v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>);
<a name="l00326"></a>00326                 *v2 = <a class="code" href="classVector.html#29266dba7ef23e90668aa46a26bee91e">Vector</a>(0.f, v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a> * invLen, -v1.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> * invLen);
<a name="l00327"></a>00327         }
<a name="l00328"></a>00328         *v3 = <a class="code" href="geometry_8h.html#340d6d877ba46443c9ad20e7c0d0668f">Cross</a>(v1, *v2);
<a name="l00329"></a>00329 }
<a name="l00330"></a><a class="code" href="geometry_8h.html#b9355fa6841dbeaad166b9ea35cb9efc">00330</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="geometry_8h.html#b9355fa6841dbeaad166b9ea35cb9efc">Distance</a>(<span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p1, <span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p2) {
<a name="l00331"></a>00331         <span class="keywordflow">return</span> (p1 - p2).Length();
<a name="l00332"></a>00332 }
<a name="l00333"></a><a class="code" href="geometry_8h.html#7e7a8e6ca4a481e5f0d1c44312a956d0">00333</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="geometry_8h.html#7e7a8e6ca4a481e5f0d1c44312a956d0">DistanceSquared</a>(<span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p1, <span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p2) {
<a name="l00334"></a>00334         <span class="keywordflow">return</span> (p1 - p2).LengthSquared();
<a name="l00335"></a>00335 }
<a name="l00336"></a><a class="code" href="geometry_8h.html#a4c4a76020f9b83e323643ce0a679fd9">00336</a> <span class="keyword">inline</span> ostream &amp;<a class="code" href="color_8cpp.html#3b3bb63dabe75a974aab091b1d698db1">operator&lt;&lt;</a>(ostream &amp;os, <span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;v) {
<a name="l00337"></a>00337         os &lt;&lt; v.<a class="code" href="classPoint.html#05dfe2dfbde813ad234b514f30e662f1">x</a> &lt;&lt; <span class="stringliteral">", "</span> &lt;&lt; v.<a class="code" href="classPoint.html#6101960c8d2d4e8ea1d32c9234bbeb8d">y</a> &lt;&lt; <span class="stringliteral">", "</span> &lt;&lt; v.<a class="code" href="classPoint.html#9a666531e0e99adff132be93d2407d0c">z</a>;
<a name="l00338"></a>00338         <span class="keywordflow">return</span> os;
<a name="l00339"></a>00339 }
<a name="l00340"></a><a class="code" href="geometry_8h.html#32be02d200509b99f37d2543c6afb88d">00340</a> <span class="keyword">inline</span> <a class="code" href="classPoint.html">Point</a> <a class="code" href="classVector.html#421bc63b8063441b0e2302dc713d85d8">operator*</a>(<span class="keywordtype">float</span> f, <span class="keyword">const</span> <a class="code" href="classPoint.html">Point</a> &amp;p) {
<a name="l00341"></a>00341         <span class="keywordflow">return</span> p*f;
<a name="l00342"></a>00342 }
<a name="l00343"></a><a class="code" href="geometry_8h.html#64fb08f24bb6ba7e8b95f0c9afcb4a6a">00343</a> <span class="keyword">inline</span> <a class="code" href="classNormal.html">Normal</a> <a class="code" href="classVector.html#421bc63b8063441b0e2302dc713d85d8">operator*</a>(<span class="keywordtype">float</span> f, <span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;n) {
<a name="l00344"></a>00344         <span class="keywordflow">return</span> <a class="code" href="classNormal.html">Normal</a>(f*n.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a>, f*n.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a>, f*n.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a>);
<a name="l00345"></a>00345 }
<a name="l00346"></a><a class="code" href="geometry_8h.html#6ba8b76cdf0426ec00e0ec499e478e9a">00346</a> <span class="keyword">inline</span> <a class="code" href="classNormal.html">Normal</a> <a class="code" href="geometry_8h.html#46448bfa3df1c2de5e3b763f163866a4">Normalize</a>(<span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;n) {
<a name="l00347"></a>00347         <span class="keywordflow">return</span> n / n.<a class="code" href="classNormal.html#fa3de29fd16295544b856b3cf529812d">Length</a>();
<a name="l00348"></a>00348 }
<a name="l00349"></a><a class="code" href="classVector.html#fb38844f72acc44b49eec54163d66c7b">00349</a> <span class="keyword">inline</span> <a class="code" href="classVector.html#29266dba7ef23e90668aa46a26bee91e">Vector::Vector</a>(<span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;n)
<a name="l00350"></a>00350   : <a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>(n.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>), <a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>(n.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>), <a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>(n.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>) { }
<a name="l00351"></a><a class="code" href="geometry_8h.html#7cfc860419ecd166e835f6905be201bc">00351</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="geometry_8h.html#ad0d36688d190693f70a5c9ef9342914">Dot</a>(<span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;n1, <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v2) {
<a name="l00352"></a>00352         <span class="keywordflow">return</span> n1.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a> * v2.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> + n1.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a> * v2.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> + n1.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a> * v2.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>;
<a name="l00353"></a>00353 }
<a name="l00354"></a><a class="code" href="geometry_8h.html#37210c3b11285739cd4b925d3b5ec619">00354</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="geometry_8h.html#ad0d36688d190693f70a5c9ef9342914">Dot</a>(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v1, <span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;n2) {
<a name="l00355"></a>00355         <span class="keywordflow">return</span> v1.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> * n2.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a> + v1.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> * n2.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a> + v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a> * n2.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a>;
<a name="l00356"></a>00356 }
<a name="l00357"></a><a class="code" href="geometry_8h.html#f8dc4bba5176e7b9dd1d330565eaa4dd">00357</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="geometry_8h.html#ad0d36688d190693f70a5c9ef9342914">Dot</a>(<span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;n1, <span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;n2) {
<a name="l00358"></a>00358         <span class="keywordflow">return</span> n1.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a> * n2.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a> + n1.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a> * n2.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a> + n1.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a> * n2.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a>;
<a name="l00359"></a>00359 }
<a name="l00360"></a><a class="code" href="geometry_8h.html#1f429d5924e919c1ee179fbb444c46a6">00360</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="geometry_8h.html#0c07ebf9b1454b90d6646a2f89065bb3">AbsDot</a>(<span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;n1, <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v2) {
<a name="l00361"></a>00361         <span class="keywordflow">return</span> fabsf(n1.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a> * v2.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> + n1.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a> * v2.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> + n1.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a> * v2.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>);
<a name="l00362"></a>00362 }
<a name="l00363"></a><a class="code" href="geometry_8h.html#78f5a3df39c5705708d8aac6a011313c">00363</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="geometry_8h.html#0c07ebf9b1454b90d6646a2f89065bb3">AbsDot</a>(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v1, <span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;n2) {
<a name="l00364"></a>00364         <span class="keywordflow">return</span> fabsf(v1.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a> * n2.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a> + v1.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a> * n2.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a> + v1.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a> * n2.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a>);
<a name="l00365"></a>00365 }
<a name="l00366"></a><a class="code" href="geometry_8h.html#2a043625578eaac8ac473d82bddfa4cc">00366</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="geometry_8h.html#0c07ebf9b1454b90d6646a2f89065bb3">AbsDot</a>(<span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;n1, <span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;n2) {
<a name="l00367"></a>00367         <span class="keywordflow">return</span> fabsf(n1.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a> * n2.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a> + n1.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a> * n2.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a> + n1.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a> * n2.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a>);
<a name="l00368"></a>00368 }
<a name="l00369"></a><a class="code" href="geometry_8h.html#9913f7d740a53f7a4986cdd7c4917ed7">00369</a> <span class="keyword">inline</span> ostream &amp;<a class="code" href="color_8cpp.html#3b3bb63dabe75a974aab091b1d698db1">operator&lt;&lt;</a>(ostream &amp;os, <span class="keyword">const</span> <a class="code" href="classNormal.html">Normal</a> &amp;v) {
<a name="l00370"></a>00370         os &lt;&lt; v.<a class="code" href="classNormal.html#3690f0464ff79057dbdb2e0b5fc0a657">x</a> &lt;&lt; <span class="stringliteral">", "</span> &lt;&lt; v.<a class="code" href="classNormal.html#5988fc7a5e2e7539c047363641d1a3c4">y</a> &lt;&lt; <span class="stringliteral">", "</span> &lt;&lt; v.<a class="code" href="classNormal.html#687c9da350e0300dd60b4e9c0ae45948">z</a>;
<a name="l00371"></a>00371         <span class="keywordflow">return</span> os;
<a name="l00372"></a>00372 }
<a name="l00373"></a><a class="code" href="geometry_8h.html#53e8aaf889587dc8e64e2d0f233f37db">00373</a> <span class="keyword">inline</span> ostream &amp;<a class="code" href="color_8cpp.html#3b3bb63dabe75a974aab091b1d698db1">operator&lt;&lt;</a>(ostream &amp;os, <a class="code" href="classRay.html">Ray</a> &amp;r) {
<a name="l00374"></a>00374         os &lt;&lt; <span class="stringliteral">"org: "</span> &lt;&lt; r.<a class="code" href="classRay.html#1014d000992e8ac3b92f150ad2a5cffe">o</a> &lt;&lt; <span class="stringliteral">"dir: "</span> &lt;&lt; r.<a class="code" href="classRay.html#5bbfc94e178e0a050b51200acc579069">d</a> &lt;&lt; <span class="stringliteral">" range ["</span> &lt;&lt;
<a name="l00375"></a>00375                 r.<a class="code" href="classRay.html#ded3b6e00c215611ebd61a6965560ba0">mint</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; r.<a class="code" href="classRay.html#aa6c29ceae8edc5c9d37e879daa1557a">maxt</a> &lt;&lt; <span class="stringliteral">"] time = "</span> &lt;&lt;
<a name="l00376"></a>00376                 r.<a class="code" href="classRay.html#d118ddeccab760f91f74d8c01f6f545e">time</a>;
<a name="l00377"></a>00377         <span class="keywordflow">return</span> os;
<a name="l00378"></a>00378 }
<a name="l00379"></a><a class="code" href="geometry_8h.html#bd38405467f6e6519fd6c435c1d2a995">00379</a> <span class="keyword">inline</span> ostream &amp;<a class="code" href="color_8cpp.html#3b3bb63dabe75a974aab091b1d698db1">operator&lt;&lt;</a>(ostream &amp;os, <span class="keyword">const</span> <a class="code" href="classBBox.html">BBox</a> &amp;b) {
<a name="l00380"></a>00380         os &lt;&lt; b.<a class="code" href="classBBox.html#6efc252ac04a7236369d0ebdc11dab4c">pMin</a> &lt;&lt; <span class="stringliteral">" -&gt; "</span> &lt;&lt; b.<a class="code" href="classBBox.html#144894960e2a634983f4d579d7cfc02e">pMax</a>;
<a name="l00381"></a>00381         <span class="keywordflow">return</span> os;
<a name="l00382"></a>00382 }
<a name="l00383"></a><a class="code" href="geometry_8h.html#0d09426bc3aa2ca26c053e5efc1bfce5">00383</a> <span class="keyword">inline</span> <a class="code" href="classVector.html">Vector</a> <a class="code" href="geometry_8h.html#0d09426bc3aa2ca26c053e5efc1bfce5">SphericalDirection</a>(<span class="keywordtype">float</span> sintheta,
<a name="l00384"></a>00384                               <span class="keywordtype">float</span> costheta, <span class="keywordtype">float</span> phi) {
<a name="l00385"></a>00385         <span class="keywordflow">return</span> <a class="code" href="classVector.html#29266dba7ef23e90668aa46a26bee91e">Vector</a>(sintheta * cosf(phi),
<a name="l00386"></a>00386                       sintheta * sinf(phi),
<a name="l00387"></a>00387                                   costheta);
<a name="l00388"></a>00388 }
<a name="l00389"></a><a class="code" href="geometry_8h.html#4541523f40b96ea275013f450d61473f">00389</a> <span class="keyword">inline</span> <a class="code" href="classVector.html">Vector</a> <a class="code" href="geometry_8h.html#0d09426bc3aa2ca26c053e5efc1bfce5">SphericalDirection</a>(<span class="keywordtype">float</span> sintheta,
<a name="l00390"></a>00390                                    <span class="keywordtype">float</span> costheta,
<a name="l00391"></a>00391                                                                    <span class="keywordtype">float</span> phi,
<a name="l00392"></a>00392                                                                    <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>,
<a name="l00393"></a>00393                                                                    <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>,
<a name="l00394"></a>00394                                                                    <span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>) {
<a name="l00395"></a>00395         <span class="keywordflow">return</span> sintheta * cosf(phi) * x +
<a name="l00396"></a>00396                 sintheta * sinf(phi) * y + costheta * z;
<a name="l00397"></a>00397 }
<a name="l00398"></a><a class="code" href="geometry_8h.html#f7d36bef020e06d4c8da4dde7d14264e">00398</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="geometry_8h.html#f7d36bef020e06d4c8da4dde7d14264e">SphericalTheta</a>(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v) {
<a name="l00399"></a>00399         <span class="keywordflow">return</span> acosf(<a class="code" href="pbrt_8h.html#036098e5cec04b73d8720de12e8e5cd1">Clamp</a>(v.<a class="code" href="classVector.html#0e84237d0830d5c459bfa5676b5fbfba">z</a>, -1.f, 1.f));
<a name="l00400"></a>00400 }
<a name="l00401"></a><a class="code" href="geometry_8h.html#c4ad8b957b2a7f90df704d7e6a635a3c">00401</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="geometry_8h.html#c4ad8b957b2a7f90df704d7e6a635a3c">SphericalPhi</a>(<span class="keyword">const</span> <a class="code" href="classVector.html">Vector</a> &amp;v) {
<a name="l00402"></a>00402         <span class="keywordtype">float</span> p = atan2f(v.<a class="code" href="classVector.html#81be9102fca6d9beea3efef522c4c09d">y</a>, v.<a class="code" href="classVector.html#ca49165049a1e21ae47afcfc078819ed">x</a>);
<a name="l00403"></a>00403         <span class="keywordflow">return</span> (p &lt; 0.f) ? p + 2.f*<a class="code" href="pbrt_8h.html#e71449b1cc6e6250b91f539153a7a0d3">M_PI</a> : p;
<a name="l00404"></a>00404 }
<a name="l00405"></a>00405 <span class="preprocessor">#endif // PBRT_GEOMETRY_H</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 20 17:31:52 2009 for pbrt by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
